```Go
type Header struct {
        name     [100]byte
        mode     [8]byte
        owner    [8]byte
        group    [8]byte
        size     [12]byte
        mtime    [12]byte
        checkSum [8]byte
        fileType byte
        linkName [100]byte
        magic         [6]byte
　　version         [2]byte
　　uname         [32]byte
　　gname         [32]byte
　　devmajor [8]byte
　　devminor [8]byte
　　prefix   [155]byte
　　padding  [12]byte
}
```

# Cassandra

  

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjUyNjNlYzY2NDkyMzQxZmUzODdkYjI0ZjdlNDEwM2NfZDlDZURXNmhqRVBEdEdacHZvVElRbldTcWpEbVVMbWtfVG9rZW46UjdTN2JOaGpZb05FSHd4UnFaaGNHNU91bnNlXzE3NDE0Mzc3NTQ6MTc0MTQ0MTM1NF9WNA)

比odess+fastcdc好12.01%

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|docker/cassandra|BiSearch(Odess)|BiSearch(finesse)|Odess|finesse|finesse_adjacency|BiSearch(finesse_adjacency)|
|fastCDC|17.94|17.332|17.418|16.33|17.02|17.716|
|Gear|17.72|17.134|17.306|16.197|||
|多层fastcdc|||17.91||||
|TAR|19.51||||||

# Linux

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MmI2NWJlZmIzM2FiZGI1MTljOTdjZTI4ZGJhNjM1ZjBfcGdweTVWMEsxMm5IQVNySTF5WkZqTVpYajZqVGRRNWZfVG9rZW46QWNIemJQd1pKb2l6Mmx4dUcyNmNoMkFIblBmXzE3NDE0Mzc3NTQ6MTc0MTQ0MTM1NF9WNA)

# Web

|   |   |   |
|---|---|---|
|BiSearch_Odess_tar|Compression ratio=204.79|bug num is 3<br><br>process last container<br><br>Time taken by for loop: 79.9103 minutes<br><br>-----------------CHUNK NUM-----------------------<br><br>logical chunk num: 10109887<br><br>unique chunk num: 5794258<br><br>base chunk num: 1140695<br><br>delta chunk num: 4653563<br><br>finesse hit:3841525<br><br>fake data:0<br><br>-----------------CHUNK SIZE-----------------------<br><br>logical chunk size: 297546045440<br><br>unique chunk size: 1452886239<br><br>dedup chunk size: 0<br><br>base chunk size: 481791145<br><br>delta chunk size: 971095094<br><br>finesse chunk size: 716813574<br><br>finesse pre chunk size: 8693060608<br><br>local chunk size: 90597822<br><br>local pre chunk size: 1436558848<br><br>Compute SF times:123958<br><br>Sum Time5: 152 seconds<br><br>Fetch Base Chunk Time: 2000 seconds<br><br>load container times: 205800<br><br>cache hit times: 8827484<br><br>Read IO time: 264 seconds<br><br>Write IO time: 6 seconds<br><br>Update Cache time: 65seconds<br><br>Read Cache time: 1749seconds|
|Odess_FastCDC|93.5451|./BiSearch -i /mnt/dataset2/WEB -m 8 -r 4 -n 102<br><br>-----------------CHUNK NUM-----------------------<br><br>logical chunk num: 35330141<br><br>unique chunk num: 4079012<br><br>base chunk num: 129789<br><br>delta chunk num: 3949223<br><br>finesse hit:0<br><br>-----------------CHUNK SIZE-----------------------<br><br>logical chunk size: 297546045440<br><br>unique chunk size: 3180775612<br><br>dedup chunk size: 0<br><br>base chunk size: 530809401<br><br>delta chunk size: 2649966211<br><br>finesse chunk size: 0<br><br>finesse pre chunk size: 0<br><br>local chunk size: 0<br><br>local pre chunk size: 0<br><br>---|
|Finesse_fastcdc||Time taken by for loop: 75.2116 minutes-----------------CHUNK NUM-----------------------logical chunk num: 35330141unique chunk num: 4079012base chunk num: 268251delta chunk num: 3810761finesse hit:0fake data:0-----------------CHUNK SIZE-----------------------logical chunk size: 297546045440unique chunk size: 2559654721dedup chunk size: 0base chunk size: 1037184092delta chunk size: 1522470629finesse chunk size: 0finesse pre chunk size: 0local chunk size: 0local pre chunk size: 0Compute SF times:4079012Sum Time5: 0 secondsFetch Base Chunk Time: 0 secondsload container times: 600902cache hit times: 3174871Read IO time: 736 secondsWrite IO time: 3 secondsUpdate Cache time: 188secondsRead Cache time: 632seconds|

# layer验证

./BiSearch -i /home/public/WYY/DBset/cassandra -m 19 -r 8 -n 97

9181次delta中，有735次bisearch觉得不好的块odess觉得好，即定位准确但是可以通过layer优化的块

```SQL
same basechunk times is 735
2024-06-13 20:44:26 <BiSearch_Odess_Tar_Layer>: local logical size / local unique size is 13.701379
logicalchunkSize is 33674MB
uniquechunkSize is 1727MB
bug num is 0
process last container
Time taken by for loop: 42.8355 minutes
-----------------CHUNK NUM-----------------------
logical chunk num: 25273
unique chunk num: 10543
base chunk num: 1362
delta chunk num: 9181
finesse hit:2278
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 35310059520
unique chunk size: 1811594146
dedup chunk size: 0
base chunk size: 249101652
delta chunk size: 1562492494
finesse chunk size: 2789434
finesse pre chunk size: 64169472
local chunk size: 1559556208
local pre chunk size: 21368070144
Compute SF times:214
Sum Time5: 2255 seconds
Fetch Base Chunk Time: 7 seconds
load container times: 639
cache hit times: 10759
Read IO time: 4 seconds
Write IO time: 1 seconds
Update Cache time: 0seconds
Read Cache time: 3seconds
```
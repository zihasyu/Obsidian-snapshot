# 一些细节

- Git 允许多重增量依赖，即形成一个 delta chain.

- Git 在进行增量压缩之前会先进行对象排序，排序大体规则如下：
    
    - 相同类型的对象排序在一起
        
    - 按照文件名和路径名进行排序，实际实现的时候是比较基于path name计算出来的哈希值。
        
    - 按照大小排序，小的在前大的在后。
        
    - 按照地址来排，大地址在前，小地址在后。原因是Git想把更新的object排在前面，最近的对象往往其地址会更大。
        
- Git 在进行增量压缩之前会先进行对象排序，之后使用滑动窗口来为每一个object选择一个合适的base object。窗口大小是按照**对象数量**来维护的。Git会把每轮找到的best base object放在当前处理的对象之后，从而使其在滑动窗口之中待得更久。
    
![[Pasted image 20250308203900.png]]

- Git 在做多重增量压缩时，会先把Delta对象恢复成完整的对象。cache_or_unpack_entry 这个函数将delta 对象恢复成了完整的数据对象。
    

# 比较和BiSearch的存储效率实验

## 实验步骤 & 一些脚本

要将每个提交与发布版本（release version）进行对应，可以采取以下步骤：

1. **获取所有的发布版本标签**：首先，你需要获取所有的发布版本标签。通常，Git仓库会使用标签（tags）来标记发布版本。
    
2. **获取每个标签对应的提交哈希**：然后，你可以找到每个标签对应的提交哈希。
    
3. **在测试过程中优先处理这些标签**：在重放提交的过程中，当遇到这些标签时，进行特殊处理和记录，以便与发布版本进行对比。
    

### 详细步骤

#### 1. 获取发布版本标签

首先，获取所有的发布版本标签，并将它们保存到一个文件中：
  
```Bash
git tag > tags.txt
git log --pretty=format:"%H" > commit_hashes.txt
```

#### 2. 获取每个标签对应的提交哈希


使用以下脚本来获取每个标签对应的提交哈希，并将结果保存到 `tag_commits.txt` 文件中：
  

```Bash
#!/bin/bash

while read tag; do
    commit=$(git rev-list -n 1 "$tag")
    echo "$tag $commit" >> tag_commits.txt
done < tags.txt
```

#### 3. 更新重放测试脚本

更新之前的 `test_storage.sh` 脚本，以便在每次提交时检查当前提交是否为标签对应的提交。如果是，则进行特殊处理和记录。
```Bash
#!/bin/bash

# 定义脚本所在目录
script_dir="/home/cluster/JunWu/git-test/linux-test2"
echo "Script directory: $script_dir"

# 读取标签和对应的提交哈希
tag_commits_file="$script_dir/tag_commits.txt"
if [ ! -f "$tag_commits_file" ]; then
    echo "Error: tag_commits.txt not found in $script_dir"
    exit 1
fi

declare -A tag_commits
declare -a commit_order
while read tag commit; do
    tag_commits[$commit]=$tag
    commit_order+=($commit)
    echo $tag $commit
done < "$tag_commits_file"

# for commit in "${!tag_commits[@]}"; do
#     echo "Commit: $commit, Tag: ${tag_commits[$commit]}"
# done
# 创建目录来保存结果
mkdir -p "$script_dir/results"

# 原始仓库路径
original_repo="$script_dir/linux"
if [ ! -d "$original_repo/.git" ]; then
    echo "Error: $original_repo/.git not found"
    exit 1
fi

# 初始化新的测试仓库
test_repo_path="$script_dir/test_repo"
rm -rf "$test_repo_path"
mkdir "$test_repo_path"
cd "$test_repo_path"
git init

# # 禁用当前仓库的 delta 压缩
# git config repack.useDeltaBaseOffset false
git config core.looseCompression 0
git config core.compression 0
git config pack.compression 0
git config repack.useDeltaBaseOffset false
git config pack.packSizeLimit 500m

# 记录详细的统计信息
record_stats() {
    local tag=$1
    local tag_commit=$2

    git config core.looseCompression 9
    git config core.compression 9
    git config pack.compression 9
    git config repack.useDeltaBaseOffset true

    # 启用 delta 压缩并记录开始时间
    # git config repack.useDeltaBaseOffset true
    local start_time=$(date +%s)
    git repack -ad --depth=50 --window=50
    local end_time=$(date +%s)
   #  git config repack.useDeltaBaseOffset false
    local duration=$((end_time - start_time))

    git config core.looseCompression 0
    git config core.compression 0
    git config pack.compression 0
    git config repack.useDeltaBaseOffset false
    # 记录 .git/objects 文件夹及其子项的大小
    du -sh .git/objects/* > "$script_dir/results/objects_${tag_commit}.txt"

    # 记录所有 delta 压缩对象的大小
    git verify-pack -v .git/objects/pack/*.idx | grep -E "^\w{40}" > "$script_dir/results/delta_objects_${tag_commit}.txt"

    # 记录 delta 压缩使用的时间
    echo "Delta compression time: $duration seconds" > "$script_dir/results/compression_time_${tag_commit}.txt"

    # 记录每个 pack 文件的大小
    du -sh .git/objects/pack/*.pack >> "$script_dir/results/pack_sizes_${tag_commit}.txt"

    # 如果是发布标签，记录相应信息
    if [[ -n "$tag" ]]; then
        echo "Release $tag ($tag_commit):" >> "$script_dir/results/sizes.txt"
        du -sh .git/objects/* >> "$script_dir/results/sizes.txt"
        du -sh .git/objects/pack/*.pack >> "$script_dir/results/sizes.txt"
        echo "Delta compression time: $duration seconds" >> "$script_dir/results/sizes.txt"
    fi
}

# 提取最后一个标签的提交哈希
last_tag_commit="${commit_order[-1]}"

# 找出最后一个标签之前的所有提交
git --git-dir="$original_repo/.git" log --pretty=format:"%H" --reverse "$last_tag_commit" > "$script_dir/all_commits.txt"
all_commits=( $(cat "$script_dir/all_commits.txt") )

# 遍历每个提交
for commit in "${all_commits[@]}"; do
    echo "Processing commit $commit"

    # 从原始仓库中检出当前提交的内容到测试仓库
    git --git-dir="$original_repo/.git" --work-tree="$test_repo_path" checkout "$commit" -- .

    # 检查是否有新文件
    # if [ -z "$(git status --porcelain)" ]; then
    #     echo "No changes to commit for $commit"
    #     continue
    # fi
    if [ -z "$(git status --porcelain)" ]; then
        if [[ -n "${tag_commits[$commit]}" ]]; then
            record_stats "${tag_commits[$commit]}" "$commit"
        fi
        echo "No changes to commit for $commit"
        continue
    fi
    # 添加所有文件并提交
    git add .
    GIT_COMMITTER_DATE="$(git --git-dir="$original_repo/.git" show -s --format=%ci "$commit")" git commit --date="$(git --git-dir="$original_repo/.git" show -s --format=%ci "$commit")" -m "Commit $commit"

    # 检查当前提交是否是一个标签的提交
    if [[ -n "${tag_commits[$commit]}" ]]; then
        tag="${tag_commits[$commit]}"
        echo "Processing tag $tag at commit $commit"
        record_stats "$tag" "$commit"
    fi
done
```

  

### 执行脚本

确保脚本有执行权限，然后运行脚本：

```Bash
chmod +x test_storage.sh
./test_storage.sh
```
### 分析结果

脚本运行完毕后，你会在 `results/sizes.txt` 文件中看到每隔500次提交的Git仓库大小以及每个发布版本标签时的大小。
### 示例结果

`results/sizes.txt` 文件的内容可能如下：

```Plain
Commit abcdef1234567890: 500M
Release v1.0 (abcdef1234567890): 505M
Commit 1234567890abcdef: 520M
Commit 0abcdef123456789: 540M
Release v1.1 (0abcdef123456789): 545M
...
Final commit: 600M
```

  

### 结论
通过上述方法，你可以准确地记录每个发布版本的仓库大小，并将其与每隔500次提交的仓库大小进行对比。这将帮助你更好地分析和优化你的存储系统。

希望这个解决方案能满足你的需求。如果还有其他问题或需要进一步的帮助，请随时告知。
## 实验结果

### Linux-Git （73backups v2.6.12-rc2 ~ v2.6.21）

```SQL
Release v2.6.12 (9ee1c939d1cb936b1f98e8d81aeffab57bae46ab):
140K        .git/objects/info
55M        .git/objects/pack
54M        .git/objects/pack/pack-5f6271d853f4fd82d06504415d486f0e90d848b0.pack
Delta compression time: 2 seconds
Release v2.6.13 (02b3e4e2d71b6058ec11cc01c72ac651eb3ded2b):
320K        .git/objects/info
62M        .git/objects/pack
61M        .git/objects/pack/pack-4f24e02aa918b7c45e5e3e63332348448f6a89c4.pack
Delta compression time: 4 seconds
Release v2.6.14 (741b2252a5e14d6c60a913c77a6099abe73a854a):
576K        .git/objects/info
70M        .git/objects/pack
67M        .git/objects/pack/pack-a2e551c63a691e81b62e34660b39de4cf79d1f47.pack
Delta compression time: 4 seconds
Release v2.6.15 (88026842b0a760145aa71d69e74fbc9ec118ca44):
864K        .git/objects/info
80M        .git/objects/pack
76M        .git/objects/pack/pack-ce54915e73e3f5782cacba1962e09624362bac95.pack
Delta compression time: 4 seconds
Release v2.6.16 (7705a8792b0fc82fd7d4dd923724606bbfd9fb20):
1.2M        .git/objects/info
91M        .git/objects/pack
86M        .git/objects/pack/pack-810d275308ae85aff3e6bf9bd40f52ae507ec247.pack
Delta compression time: 5 seconds
Release v2.6.17 (427abfa28afedffadfca9dd8b067eb6d36bac53f):
1.6M        .git/objects/info
102M        .git/objects/pack
96M        .git/objects/pack/pack-0f71a89e99df25d403846d6d5adda35e6dbf0cb7.pack
Delta compression time: 5 seconds
Release v2.6.18 (e478bec0ba0a83a48a0f6982934b6de079e7e6b3):
1.9M        .git/objects/info
115M        .git/objects/pack
106M        .git/objects/pack/pack-933de5216daebebc858951e2d4ac6b0ddc6680e1.pack
Delta compression time: 6 seconds
Release v2.6.19 (0215ffb08ce99e2bb59eca114a99499a4d06e704):
2.2M        .git/objects/info
127M        .git/objects/pack
117M        .git/objects/pack/pack-c30c06cc78b7c234b09d261e948469bbd9f1b2fd.pack
Delta compression time: 6 seconds
Release v2.6.20 (62d0cfcb27cf755cebdc93ca95dabc83608007cd):
2.5M        .git/objects/info
136M        .git/objects/pack
125M        .git/objects/pack/pack-dff3b1753372ddd0e20f16718653ca0f30e299ca.pack
Delta compression time: 6 seconds
Release v2.6.21 (de46c33745f5e2ad594c72f2cf5f490861b16ce1):
2.7M        .git/objects/info
145M        .git/objects/pack
133M        .git/objects/pack/pack-4a1ba4e5a9cb10e04d743262329f6c77871322f1.pack
Delta compression time: 7 seconds
```

### Linux-BiSearch （73backups v2.6.12-rc2 ~ v2.6.21）

```SQL
process file: /home/public/WYY/Linux_rc_tar/v2.6.12-rc2.tar
2024-05-20 12:08:41 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:08:41 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12-rc2.tar
2024-05-20 12:08:46 <Local + Finesse>: local logical size / local unique size is -nan
logicalchunkSize is 201MB
uniquechunkSize is 97MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.12-rc3.tar
2024-05-20 12:08:46 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:08:46 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12-rc3.tar
2024-05-20 12:08:51 <Local + Finesse>: local logical size / local unique size is 86.526321
logicalchunkSize is 402MB
uniquechunkSize is 105MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.12-rc4.tar
2024-05-20 12:08:51 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:08:51 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12-rc4.tar
2024-05-20 12:08:56 <Local + Finesse>: local logical size / local unique size is 83.438218
logicalchunkSize is 605MB
uniquechunkSize is 108MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.12-rc5.tar
2024-05-20 12:08:56 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:08:56 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12-rc5.tar
2024-05-20 12:09:00 <Local + Finesse>: local logical size / local unique size is 83.636797
logicalchunkSize is 807MB
uniquechunkSize is 110MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.12-rc6.tar
2024-05-20 12:09:00 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:00 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12-rc6.tar
2024-05-20 12:09:05 <Local + Finesse>: local logical size / local unique size is 83.344295
logicalchunkSize is 1010MB
uniquechunkSize is 112MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.12.tar
2024-05-20 12:09:05 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:05 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.12.tar
2024-05-20 12:09:10 <Local + Finesse>: local logical size / local unique size is 83.340132
logicalchunkSize is 1213MB
uniquechunkSize is 113MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc1.tar
2024-05-20 12:09:10 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:10 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc1.tar
2024-05-20 12:09:17 <Local + Finesse>: local logical size / local unique size is 79.057055
logicalchunkSize is 1418MB
uniquechunkSize is 122MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc2.tar
2024-05-20 12:09:17 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:17 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc2.tar
2024-05-20 12:09:22 <Local + Finesse>: local logical size / local unique size is 78.780645
logicalchunkSize is 1624MB
uniquechunkSize is 124MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc3.tar
2024-05-20 12:09:22 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:22 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc3.tar
2024-05-20 12:09:28 <Local + Finesse>: local logical size / local unique size is 77.767005
logicalchunkSize is 1831MB
uniquechunkSize is 128MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc4.tar
2024-05-20 12:09:28 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:28 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc4.tar
2024-05-20 12:09:33 <Local + Finesse>: local logical size / local unique size is 77.151894
logicalchunkSize is 2040MB
uniquechunkSize is 133MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc5.tar
2024-05-20 12:09:33 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:33 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc5.tar
2024-05-20 12:09:39 <Local + Finesse>: local logical size / local unique size is 77.021195
logicalchunkSize is 2249MB
uniquechunkSize is 134MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc6.tar
2024-05-20 12:09:39 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:39 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc6.tar
2024-05-20 12:09:45 <Local + Finesse>: local logical size / local unique size is 77.038555
logicalchunkSize is 2458MB
uniquechunkSize is 136MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13-rc7.tar
2024-05-20 12:09:45 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:45 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13-rc7.tar
2024-05-20 12:09:50 <Local + Finesse>: local logical size / local unique size is 76.985518
logicalchunkSize is 2668MB
uniquechunkSize is 138MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.13.tar
2024-05-20 12:09:50 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:50 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.13.tar
2024-05-20 12:09:56 <Local + Finesse>: local logical size / local unique size is 77.002423
logicalchunkSize is 2877MB
uniquechunkSize is 139MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14-rc1.tar
2024-05-20 12:09:56 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:09:56 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14-rc1.tar
2024-05-20 12:10:03 <Local + Finesse>: local logical size / local unique size is 75.184371
logicalchunkSize is 3090MB
uniquechunkSize is 152MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14-rc2.tar
2024-05-20 12:10:03 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:03 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14-rc2.tar
2024-05-20 12:10:09 <Local + Finesse>: local logical size / local unique size is 75.123307
logicalchunkSize is 3303MB
uniquechunkSize is 155MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14-rc3.tar
2024-05-20 12:10:09 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:09 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14-rc3.tar
2024-05-20 12:10:16 <Local + Finesse>: local logical size / local unique size is 75.038122
logicalchunkSize is 3516MB
uniquechunkSize is 158MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14-rc4.tar
2024-05-20 12:10:16 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:16 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14-rc4.tar
2024-05-20 12:10:22 <Local + Finesse>: local logical size / local unique size is 75.040642
logicalchunkSize is 3730MB
uniquechunkSize is 160MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14-rc5.tar
2024-05-20 12:10:22 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:22 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14-rc5.tar
2024-05-20 12:10:28 <Local + Finesse>: local logical size / local unique size is 75.100094
logicalchunkSize is 3944MB
uniquechunkSize is 161MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.14.tar
2024-05-20 12:10:28 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:28 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.14.tar
2024-05-20 12:10:34 <Local + Finesse>: local logical size / local unique size is 75.193965
logicalchunkSize is 4157MB
uniquechunkSize is 163MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc1.tar
2024-05-20 12:10:34 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:34 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc1.tar
2024-05-20 12:10:42 <Local + Finesse>: local logical size / local unique size is 73.741507
logicalchunkSize is 4375MB
uniquechunkSize is 180MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc2.tar
2024-05-20 12:10:42 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:42 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc2.tar
2024-05-20 12:10:49 <Local + Finesse>: local logical size / local unique size is 73.690380
logicalchunkSize is 4592MB
uniquechunkSize is 183MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc3.tar
2024-05-20 12:10:49 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:49 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc3.tar
2024-05-20 12:10:55 <Local + Finesse>: local logical size / local unique size is 73.780306
logicalchunkSize is 4810MB
uniquechunkSize is 185MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc4.tar
2024-05-20 12:10:55 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:10:55 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc4.tar
2024-05-20 12:11:01 <Local + Finesse>: local logical size / local unique size is 73.941918
logicalchunkSize is 5028MB
uniquechunkSize is 186MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc5.tar
2024-05-20 12:11:01 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:01 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc5.tar
2024-05-20 12:11:08 <Local + Finesse>: local logical size / local unique size is 73.984291
logicalchunkSize is 5245MB
uniquechunkSize is 188MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc6.tar
2024-05-20 12:11:08 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:08 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc6.tar
2024-05-20 12:11:14 <Local + Finesse>: local logical size / local unique size is 74.010923
logicalchunkSize is 5463MB
uniquechunkSize is 190MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15-rc7.tar
2024-05-20 12:11:14 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:14 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15-rc7.tar
2024-05-20 12:11:21 <Local + Finesse>: local logical size / local unique size is 74.050518
logicalchunkSize is 5680MB
uniquechunkSize is 191MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.15.tar
2024-05-20 12:11:21 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:21 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.15.tar
2024-05-20 12:11:27 <Local + Finesse>: local logical size / local unique size is 74.114986
logicalchunkSize is 5898MB
uniquechunkSize is 192MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc1.tar
2024-05-20 12:11:27 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:27 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc1.tar
2024-05-20 12:11:36 <Local + Finesse>: local logical size / local unique size is 73.088030
logicalchunkSize is 6120MB
uniquechunkSize is 209MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc2.tar
2024-05-20 12:11:36 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:36 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc2.tar
2024-05-20 12:11:43 <Local + Finesse>: local logical size / local unique size is 72.893733
logicalchunkSize is 6343MB
uniquechunkSize is 213MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc3.tar
2024-05-20 12:11:43 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:43 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc3.tar
2024-05-20 12:11:50 <Local + Finesse>: local logical size / local unique size is 72.816852
logicalchunkSize is 6566MB
uniquechunkSize is 216MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc4.tar
2024-05-20 12:11:50 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:50 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc4.tar
2024-05-20 12:11:57 <Local + Finesse>: local logical size / local unique size is 72.780427
logicalchunkSize is 6789MB
uniquechunkSize is 218MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc5.tar
2024-05-20 12:11:57 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:11:57 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc5.tar
2024-05-20 12:12:04 <Local + Finesse>: local logical size / local unique size is 72.764881
logicalchunkSize is 7012MB
uniquechunkSize is 220MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16-rc6.tar
2024-05-20 12:12:04 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:04 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16-rc6.tar
2024-05-20 12:12:11 <Local + Finesse>: local logical size / local unique size is 72.746045
logicalchunkSize is 7236MB
uniquechunkSize is 221MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.16.tar
2024-05-20 12:12:11 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:11 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.16.tar
2024-05-20 12:12:17 <Local + Finesse>: local logical size / local unique size is 72.737932
logicalchunkSize is 7459MB
uniquechunkSize is 223MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc1.tar
2024-05-20 12:12:17 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:17 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc1.tar
2024-05-20 12:12:28 <Local + Finesse>: local logical size / local unique size is 71.876169
logicalchunkSize is 7685MB
uniquechunkSize is 239MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc2.tar
2024-05-20 12:12:28 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:28 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc2.tar
2024-05-20 12:12:35 <Local + Finesse>: local logical size / local unique size is 71.743032
logicalchunkSize is 7911MB
uniquechunkSize is 245MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc3.tar
2024-05-20 12:12:35 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:35 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc3.tar
2024-05-20 12:12:42 <Local + Finesse>: local logical size / local unique size is 71.763811
logicalchunkSize is 8136MB
uniquechunkSize is 247MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc4.tar
2024-05-20 12:12:42 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:42 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc4.tar
2024-05-20 12:12:50 <Local + Finesse>: local logical size / local unique size is 71.732049
logicalchunkSize is 8362MB
uniquechunkSize is 249MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc5.tar
2024-05-20 12:12:50 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:50 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc5.tar
2024-05-20 12:12:57 <Local + Finesse>: local logical size / local unique size is 71.750642
logicalchunkSize is 8587MB
uniquechunkSize is 251MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17-rc6.tar
2024-05-20 12:12:57 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:12:57 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17-rc6.tar
2024-05-20 12:13:04 <Local + Finesse>: local logical size / local unique size is 71.777023
logicalchunkSize is 8813MB
uniquechunkSize is 253MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.17.tar
2024-05-20 12:13:04 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:04 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.17.tar
2024-05-20 12:13:11 <Local + Finesse>: local logical size / local unique size is 71.821173
logicalchunkSize is 9039MB
uniquechunkSize is 254MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc1.tar
2024-05-20 12:13:11 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:11 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc1.tar
2024-05-20 12:13:22 <Local + Finesse>: local logical size / local unique size is 71.020927
logicalchunkSize is 9267MB
uniquechunkSize is 273MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc2.tar
2024-05-20 12:13:22 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:22 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc2.tar
2024-05-20 12:13:29 <Local + Finesse>: local logical size / local unique size is 71.033503
logicalchunkSize is 9495MB
uniquechunkSize is 276MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc3.tar
2024-05-20 12:13:29 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:29 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc3.tar
2024-05-20 12:13:37 <Local + Finesse>: local logical size / local unique size is 71.215774
logicalchunkSize is 9724MB
uniquechunkSize is 278MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc4.tar
2024-05-20 12:13:37 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:37 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc4.tar
2024-05-20 12:13:44 <Local + Finesse>: local logical size / local unique size is 71.297940
logicalchunkSize is 9953MB
uniquechunkSize is 280MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc5.tar
2024-05-20 12:13:44 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:44 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc5.tar
2024-05-20 12:13:52 <Local + Finesse>: local logical size / local unique size is 71.351786
logicalchunkSize is 10182MB
uniquechunkSize is 282MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc6.tar
2024-05-20 12:13:52 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:52 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc6.tar
2024-05-20 12:13:59 <Local + Finesse>: local logical size / local unique size is 71.424629
logicalchunkSize is 10410MB
uniquechunkSize is 284MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18-rc7.tar
2024-05-20 12:13:59 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:13:59 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18-rc7.tar
2024-05-20 12:14:07 <Local + Finesse>: local logical size / local unique size is 71.493279
logicalchunkSize is 10639MB
uniquechunkSize is 285MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.18.tar
2024-05-20 12:14:07 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:07 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.18.tar
2024-05-20 12:14:14 <Local + Finesse>: local logical size / local unique size is 71.559183
logicalchunkSize is 10868MB
uniquechunkSize is 287MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc1.tar
2024-05-20 12:14:14 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:14 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc1.tar
2024-05-20 12:14:25 <Local + Finesse>: local logical size / local unique size is 70.977768
logicalchunkSize is 11103MB
uniquechunkSize is 306MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc2.tar
2024-05-20 12:14:25 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:25 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc2.tar
2024-05-20 12:14:34 <Local + Finesse>: local logical size / local unique size is 70.990971
logicalchunkSize is 11337MB
uniquechunkSize is 310MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc3.tar
2024-05-20 12:14:34 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:34 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc3.tar
2024-05-20 12:14:42 <Local + Finesse>: local logical size / local unique size is 71.014140
logicalchunkSize is 11572MB
uniquechunkSize is 313MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc4.tar
2024-05-20 12:14:42 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:42 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc4.tar
2024-05-20 12:14:50 <Local + Finesse>: local logical size / local unique size is 71.065548
logicalchunkSize is 11807MB
uniquechunkSize is 315MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc5.tar
2024-05-20 12:14:50 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:50 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc5.tar
2024-05-20 12:14:58 <Local + Finesse>: local logical size / local unique size is 71.104741
logicalchunkSize is 12042MB
uniquechunkSize is 317MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19-rc6.tar
2024-05-20 12:14:58 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:14:58 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19-rc6.tar
2024-05-20 12:15:06 <Local + Finesse>: local logical size / local unique size is 71.167110
logicalchunkSize is 12277MB
uniquechunkSize is 319MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.19.tar
2024-05-20 12:15:06 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:06 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.19.tar
2024-05-20 12:15:13 <Local + Finesse>: local logical size / local unique size is 71.214476
logicalchunkSize is 12512MB
uniquechunkSize is 320MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc1.tar
2024-05-20 12:15:13 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:13 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc1.tar
2024-05-20 12:15:24 <Local + Finesse>: local logical size / local unique size is 70.800459
logicalchunkSize is 12751MB
uniquechunkSize is 333MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc2.tar
2024-05-20 12:15:24 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:24 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc2.tar
2024-05-20 12:15:33 <Local + Finesse>: local logical size / local unique size is 70.814367
logicalchunkSize is 12989MB
uniquechunkSize is 336MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc3.tar
2024-05-20 12:15:33 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:33 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc3.tar
2024-05-20 12:15:41 <Local + Finesse>: local logical size / local unique size is 70.858343
logicalchunkSize is 13228MB
uniquechunkSize is 338MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc4.tar
2024-05-20 12:15:41 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:41 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc4.tar
2024-05-20 12:15:49 <Local + Finesse>: local logical size / local unique size is 70.883928
logicalchunkSize is 13466MB
uniquechunkSize is 340MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc5.tar
2024-05-20 12:15:49 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:49 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc5.tar
2024-05-20 12:15:57 <Local + Finesse>: local logical size / local unique size is 70.906928
logicalchunkSize is 13705MB
uniquechunkSize is 342MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc6.tar
2024-05-20 12:15:57 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:15:57 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc6.tar
2024-05-20 12:16:05 <Local + Finesse>: local logical size / local unique size is 70.916100
logicalchunkSize is 13943MB
uniquechunkSize is 344MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20-rc7.tar
2024-05-20 12:16:05 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:05 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20-rc7.tar
2024-05-20 12:16:13 <Local + Finesse>: local logical size / local unique size is 70.965761
logicalchunkSize is 14182MB
uniquechunkSize is 346MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.20.tar
2024-05-20 12:16:13 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:13 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.20.tar
2024-05-20 12:16:21 <Local + Finesse>: local logical size / local unique size is 70.990453
logicalchunkSize is 14421MB
uniquechunkSize is 348MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc1.tar
2024-05-20 12:16:21 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:21 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc1.tar
2024-05-20 12:16:33 <Local + Finesse>: local logical size / local unique size is 70.593947
logicalchunkSize is 14663MB
uniquechunkSize is 362MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc2.tar
2024-05-20 12:16:33 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:33 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc2.tar
2024-05-20 12:16:42 <Local + Finesse>: local logical size / local unique size is 70.596219
logicalchunkSize is 14906MB
uniquechunkSize is 365MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc3.tar
2024-05-20 12:16:42 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:42 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc3.tar
2024-05-20 12:16:50 <Local + Finesse>: local logical size / local unique size is 70.604539
logicalchunkSize is 15148MB
uniquechunkSize is 368MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc4.tar
2024-05-20 12:16:50 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:50 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc4.tar
2024-05-20 12:16:59 <Local + Finesse>: local logical size / local unique size is 70.624059
logicalchunkSize is 15391MB
uniquechunkSize is 370MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc5.tar
2024-05-20 12:16:59 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:16:59 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc5.tar
2024-05-20 12:17:07 <Local + Finesse>: local logical size / local unique size is 70.623840
logicalchunkSize is 15634MB
uniquechunkSize is 372MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc6.tar
2024-05-20 12:17:07 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:17:07 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc6.tar
2024-05-20 12:17:16 <Local + Finesse>: local logical size / local unique size is 70.626550
logicalchunkSize is 15876MB
uniquechunkSize is 374MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21-rc7.tar
2024-05-20 12:17:16 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:17:16 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21-rc7.tar
2024-05-20 12:17:24 <Local + Finesse>: local logical size / local unique size is 70.646317
logicalchunkSize is 16119MB
uniquechunkSize is 375MB
bug num is 0
process last container
process file: /home/public/WYY/Linux_rc_tar/v2.6.21.tar
2024-05-20 12:17:24 <AbsMethod>: Current Lz4 Ratio is 8.000000
2024-05-20 12:17:24 <AbsMethod>: input file exist, filename: /home/public/WYY/Linux_rc_tar/v2.6.21.tar
2024-05-20 12:17:33 <Local + Finesse>: local logical size / local unique size is 70.674342
logicalchunkSize is 16361MB
uniquechunkSize is 377MB
bug num is 0
process last container
-----------------CHUNK NUM-----------------------
logical chunk num: 2331733
unique chunk num: 1102491
base chunk num: 83319
delta chunk num: 1019172
finesse hit:58046
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 17156628480
unique chunk size: 396091943
dedup chunk size: 0
base chunk size: 295246907
delta chunk size: 100845036
finesse chunk size: 5106334
finesse pre chunk size: 405405728
local chunk size: 95145164
local pre chunk size: 6724321827
Compute SF times:141365
Sum Time5: 31 seconds
Fetch Base Chunk Time: 378 seconds
load container times: 7099
cache hit times: 1912546
Read IO time: 9 seconds
Write IO time: 1 seconds
Update Cache time: 2seconds
Read Cache time: 364seconds
```

# 实验版本v2

## Todos

1. 修改BiSearch，支持以对象为粒度进行数据区冗余。
    
2. 获取git repo中每次commit对象列表，获取每次commit生成的对象。
    

## 修改BiSearch

### 几个需要修改的点：

1. 支持单个上传对象和批量上传对象
    
2. 计算对象文件名+路径名的哈希，这里可能要维护一个index。
    
3. 在不满足压缩率的时候回退使用finesse
    
4. 使用zlib替换LZ4
    

流程图

暂时无法在成电飞书文档外展示此内容

## 实验数据

### LevelDB

#### 打包所有commit并上传到原版BiSearch ratio 8

```SQL
-----------------CHUNK NUM-----------------------
logical chunk num: 3802
unique chunk num: 2862
base chunk num: 1644
delta chunk num: 1218
finesse hit:464
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 35112960
unique chunk size: 7658702
dedup chunk size: 0
base chunk size: 7277063
delta chunk size: 381639
finesse chunk size: 101373
finesse pre chunk size: 2712789
local chunk size: 203816
local pre chunk size: 7432321
Compute SF times:2108
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 3
cache hit times: 1196
Read IO time: 0 seconds
Write IO time: 0 seconds
Update Cache time: 0seconds
Read Cache time: 0seconds
```

#### Git

```SQL
total 908K
-r--r--r-- 1 cluster cluster  95K 5月  27 10:01 pack-09c31059c1e4dde3d4fb3624ab317c5cb2179bff.idx
-r--r--r-- 1 cluster cluster 810K 5月  27 10:01 pack-09c31059c1e4dde3d4fb3624ab317c5cb2179bff.pack
```

#### BiSearch-Object ratio 1

```SQL
-----------------CHUNK NUM-----------------------
logical chunk num: 4246
unique chunk num: 3368
base chunk num: 782
delta chunk num: 2586
finesse hit:17
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 28808044
unique chunk size: 1006719
dedup chunk size: 0
base chunk size: 510063
delta chunk size: 496656
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
Compute SF times:0
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 0
cache hit times: 0
Read IO time: 0 seconds
Write IO time: 0 seconds
Update Cache time: 0seconds
Read Cache time: 0seconds
```
### Linux

#### odess+fastcdc

```SQL
./BiSearch -i /mnt/dataset2/LKT -m 8 -r 8 -n 84
logical chunk num: 5677362
Overall Compression Ratio: 14.4836
```

#### BiSearchTarFast

```SQL
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 8 -n 84
logical chunk num: 7851310
Overall Compression Ratio: 21.8174
```

#### 单流水线Segment

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YmRjMjkyZjFiOTlmMTlhYmRlMTlkZTI1ODZkYmZlN2ZfOEEzaWZSU1JhYkJsMEQ3MkZiblBMdGwyM1NNbU5HTlJfVG9rZW46SjJyU2JJeFozbzZzVmh4RWYyamNRc3kxbmpCXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjhlNzQzNjA3MGY5Yjg0MDk2MWQwMGJkZTAwM2RhMzBfbkVhU3VEOFBwTmRaV0oyT1Z3ODR6ZDZzSTk5T3pUNE5fVG9rZW46Q3dYcGJTdmp4b1JUOUp4aG8zZWNIbVVQbkVnXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

  

```SQL
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 512
logical chunk num: 7851310
Overall Compression Ratio: 21.8174
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 1024
logical chunk num: 7631773
Overall Compression Ratio: 21.9796
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 2048
logical chunk num: 6532967
Overall Compression Ratio: 22.2801
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 4096
logical chunk num: 5236055
Overall Compression Ratio: 21.8968
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 8192
logical chunk num: 3875170
Overall Compression Ratio: 20.7597
./BiSearch -i /mnt/dataset2/LKT -m 25 -r 8 -n 84 -f 8192 -s 16384
logical chunk num: 2682416
Overall Compression Ratio: 18.9738
```

#### 双流水线Segment

```SQL
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 512
logical chunk num: 7851310
Overall Compression Ratio: 21.808
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 1024
logical chunk num: 7631773
Overall Compression Ratio: 21.9513
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 2048
logical chunk num: 6532967
Overall Compression Ratio: 22.1946
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 4096
logical chunk num: 5236055
Overall Compression Ratio: 21.806
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 8192
logical chunk num: 3875170
Overall Compression Ratio: 20.7154
./BiSearch -i /mnt/dataset2/LKT -m 26 -r 8 -n 84 -f 8192 -s 16384
logical chunk num: 2682416
Overall Compression Ratio: 18.9655
```

  

### Cassandra

#### odess+fastcdc

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 8 -r 8 -n 97
logical chunk num: 4354882
Overall Compression Ratio: 17.3841
```

#### BiSearchTarFast

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 17 -r 8 -n 97 
logical chunk num: 4331236
Overall Compression Ratio: 17.8665
```

#### 单流水线Segment

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NTliMjBkYjY0YjI1OTc3MTE2NzQxMzVhMWEzZDYyMjZfV3JDUzFJV0Q3V2ZoV0lLZkE3U2REU09XRXlMWjE0SEtfVG9rZW46TTJUYWJhYXhHb1UzdDB4YkhHemNIck5Xbm9jXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGFkYjgxYzU3OTFiNmQxZDViMmZkMThhODE4ODlkZjdfazZIZnRzcFk2VW84Wk9XOGFQaHNYOGhaRURHUlhHRjBfVG9rZW46TVBLWWJaN05nbzVMT094dzRONGMyaWdwbk5mXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

  

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 512
logical chunk num: 4331236
Overall Compression Ratio: 17.8665
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 1024
logical chunk num: 4329662
Overall Compression Ratio: 17.8661
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 2048
logical chunk num: 4322816
Overall Compression Ratio: 17.8637
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 4096
logical chunk num: 4319198
Overall Compression Ratio: 17.8494
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 8192
logical chunk num: 2666380
Overall Compression Ratio: 17.4043
./BiSearch -i /home/public/WYY/DBset/cassandra -m 25 -r 8 -n 97 -f 8192 -s 16384
logical chunk num: 1672261
Overall Compression Ratio: 16.6832
```

#### 双流水线Segment

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 512
logical chunk num: 4331236
Overall Compression Ratio: 17.8665
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 1024
logical chunk num: 4329662
Overall Compression Ratio: 17.8662
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 2048
logical chunk num: 4322816
Overall Compression Ratio: 17.8638
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 4096
logical chunk num: 4319198
Overall Compression Ratio: 17.8492
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 8192
logical chunk num: 2666380
Overall Compression Ratio: 17.406
./BiSearch -i /home/public/WYY/DBset/cassandra -m 26 -r 8 -n 97 -f 8192 -s 16384
logical chunk num: 1672261
Overall Compression Ratio: 16.6849
```

### WEB

#### odess+fastcdc

```SQL
./BiSearch -i /mnt/dataset2/WEB -m 8 -r 8 -n 102 -f 55 -s 512
logical chunk num: 35905999
Overall Compression Ratio: 92.1916
```

#### BiSearchTarFast

```SQL
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 8 -n 102 -f 55 -s 512
logical chunk num: 10109784
Overall Compression Ratio: 191.215
```

#### 单流水线Segment

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=M2Q2MjYwMjg2MzgzYmM5Y2Y1YWRjNzc5ZDM2YWU5OWRfMGsxYWxMU0JFV25rdE1BYmZKQnY4U0ZGYWtBSmRxUnpfVG9rZW46QWJjbWJLeVNzb0tZVkV4VXhCTmNEYlpibkdlXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjdjMjA4ZjlhMzkzZjBiMjM4YzU3NDY4M2U2ZGRkNmZfS2t2OE1UU3FzV2lORWlaczBZZlBPTDhFMmdhZnh5aHRfVG9rZW46TWVGWGJDMnd2b0cyZW94bkFlVGN5VVltbjZmXzE3NDE0MzgyNTc6MTc0MTQ0MTg1N19WNA)

  

```SQL
./BiSearch -i /mnt/dataset2/WEB -m 25 -r 8 -n 102 -f 8192 -s 512
logical chunk num: 10109784
Overall Compression Ratio: 191.215
./BiSearch -i /mnt/dataset2/WEB -m 25 -r 8 -n 102 -f 8192 -s 1024
logical chunk num: 8593096
Overall Compression Ratio: 206.6
./BiSearch -i /mnt/dataset2/WEB -m 25 -r 8 -n 102 -f 8192 -s 2048
logical chunk num: 7672567
Overall Compression Ratio: 84.5335
./BiSearch -i /mnt/dataset2/WEB -m 25 -r 8 -n 102 -f 8192 -s 4096
logical chunk num: 7535901
Overall Compression Ratio: 85.6723
./BiSearch -i /mnt/dataset2/WEB -m 25 -r 8 -n 102 -f 8192 -s 8192
logical chunk num: 7334458
Overall Compression Ratio: 85.6542
```

#### 双流水线Segment

  

```SQL
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 512
logical chunk num: 10109784
Overall Compression Ratio: 187.031
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 1024
logical chunk num: 8593096
Overall Compression Ratio: 200.951
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 2048
logical chunk num: 7672567
Overall Compression Ratio: 83.3284
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 4096
logical chunk num: 7535901
Overall Compression Ratio: 82.6721
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 8192
logical chunk num: 7334458
Overall Compression Ratio: 82.6082
./BiSearch -i /mnt/dataset2/WEB -m 26 -r 8 -n 102 -f 8192 -s 16384
logical chunk num: 7014120
Overall Compression Ratio: 82.5512
```

  

  

  

## 双流水线实验地址：tmux:seg_26

cassandra public@3: ~/WYY/Bi/commit48/BiSearch

```SQL
cd bin
path=/home/public/WYY/DBset/cassandra
num=97
method=26
ratio=512
 ./BiSearch -i $path -m 8 -r 8 -n 97 -f 55 -s 512 >odess.txt
 ./BiSearch -i $path -m 17 -r 8 -n 97 -f 55 -s 512 >tarfast.txt
for i in {1..6}
do
  ./BiSearch -i $path -m $method -r 8 -n $num -f 8192 -s $ratio > output$ratio.txt
  ratio=$((ratio * 2))
done
```

LKT cluster-node2:~/WZY/Bi/commit48/BiSearch$

```SQL
cd bin
path=/mnt/dataset2/LKT
name=_LKT
num=84
method=26
ratio=512
 ./BiSearch -i $path -m 8 -r 8 -n $num -f 55 -s 512 >odess$name.txt
 ./BiSearch -i $path -m 17 -r 8 -n $num -f 55 -s 512 >tarfast$name.txt
for i in {1..6}
do
  ./BiSearch -i $path -m $method -r 8 -n $num -f 8192 -s $ratio > output$ratio$name.txt
  ratio=$((ratio * 2))
done
```

WEB node1 ~/W/Bi/commit48/BiSearch

node4 ~/WZY/commit48/BiSearch

```SQL

cd bin
path=/mnt/dataset2/WEB
name=_WEB
num=102
method=26
ratio=512
 ./BiSearch -i $path -m 8 -r 8 -n $num -f 55 -s 512 >odess$name.txt
 ./BiSearch -i $path -m 17 -r 8 -n $num -f 55 -s 512 >tarfast$name.txt
for i in {1..6}
do
  ./BiSearch -i $path -m $method -r 8 -n $num -f 8192 -s $ratio > output$ratio$name.txt
  ratio=$((ratio * 2))
done
```

```SQL
cd bin
path=/mnt/dataset2/WEB
name=_WEB
num=102
method=26
ratio=2048
for i in {1..4}
do
  ./BiSearch -i $path -m $method -r 8 -n $num -f 8192 -s $ratio > output$ratio$name.txt
  ratio=$((ratio * 2))
done
```

  

  

有chunkid版

FP表（存chunkid） 32B+8B=40B 每个unique chunk 从fp→chunkid

SF表（存chunkid） 3*(8B+8B)=48B 每个base chunk 从SF→chunkid

chunkid表（存metadata） 8B+8B(basechunid)+38B(+2B补齐)=54+(2)B=56B 每个unique chunk 从chunkid→metadata

  

每个unique chunk的FP+chunkid表合计40+56=96B<128B

  

无chunkid版

FP表（存metadata及basechunkfp）32B+{38B+32B(+26B补齐)}=102+(26)B=128B

SF表（存FP）3*(8B+32B)=120B
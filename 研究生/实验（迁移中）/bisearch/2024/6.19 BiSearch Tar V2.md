
# CutPointTar接口实现

# 实验结果记录

## Linux 84 LKT_FULL_TRACE

### BiSearch Ratio 8

```SQL
./BiSearch -i /home/public/WYY/DBset/tmp_linux -m 17 -r 8 -n 3
Overall Compression Ratio: 21.794
-----------------CHUNK NUM-----------------------
logical chunk num: 7702614
unique chunk num: 4824512
base chunk num: 1071677
delta chunk num: 3752835
finesse hit:2354922
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 2214241917
dedup chunk size: 0
base chunk size: 1383751839
delta chunk size: 830490078
finesse chunk size: 503748327
finesse pre chunk size: 10394337792
local chunk size: 314182641
local pre chunk size: 6363714560
```

### Odess+FastCDC

```SQL
Time taken by for loop: 19.5889 minutes
Overall Compression Ratio: 14.794
-----------------CHUNK NUM-----------------------
logical chunk num: 5600065
unique chunk num: 2950934
base chunk num: 591760
delta chunk num: 235917a
finesse hit:0
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 3261938528
dedup chunk size: 0
base chunk size: 2332552540
delta chunk size: 929385988
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
Compute SF times:0
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 98944
cache hit times: 2257667
Read IO time: 124 seconds
Write IO time: 31 seconds
Update Cache time: 31second
```

## Linux 270 backups

### BiSearch Ratio 8

```SQL
./BiSearch -i /mnt/dataset2/linux -m 17 -r 8 -n 270
Overall Compression Ratio: 58.2554
-----------------CHUNK NUM-----------------------
logical chunk num: 29450312
unique chunk num: 16222036
base chunk num: 3566514
delta chunk num: 12655522
finesse hit:9753088
-----------------CHUNK SIZE-----------------------
logical chunk size: 212796651520
unique chunk size: 3652817099
dedup chunk size: 0
base chunk size: 1916764590
delta chunk size: 1736052509
finesse chunk size: 1237816662
finesse pre chunk size: 17641660416
local chunk size: 481776313
local pre chunk size: 9077349888
--------------------------------------------------
```

### Odess+FastCDC

```SQL
./BiSearch -i /mnt/dataset2/linux -m 8 -r 8 -n 270
Overall Compression Ratio: 37.5081
-----------------CHUNK NUM-----------------------
logical chunk num: 26557648
unique chunk num: 10664045
base chunk num: 861949
delta chunk num: 9802096
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 212796651520
unique chunk size: 5673351290
dedup chunk size: 0
base chunk size: 3042094272
delta chunk size: 2631257018
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
```

## Web 102 backups

### BiSearch Ratio 8

```SQL
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 8 -n 102
Overall Compression Ratio: 187.843
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1129139
delta chunk num: 4665119
finesse hit:3862471
-----------------CHUNK SIZE-----------------------
logical chunk size: 297546045440
unique chunk size: 1584007099
dedup chunk size: 0
base chunk size: 450786247
delta chunk size: 1133220852
finesse chunk size: 840298870
finesse pre chunk size: 8784682496
local chunk size: 98454148
local pre chunk size: 1375880192
--------------------------------------------------
```

### Odess+FastCDC

```SQL
Overall Compression Ratio: 98.7016
./BiSearch -i /mnt/dataset2/WEB -m 8 -r 8 -n 102
-----------------CHUNK NUM-----------------------
logical chunk num: 35905999
unique chunk num: 4116067
base chunk num: 135848
delta chunk num: 3980219
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 297546045440
unique chunk size: 3014600325
dedup chunk size: 0
base chunk size: 525634328
delta chunk size: 2488965997
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
```

### Finesse+FastCDC

```SQL
Overall Compression Ratio: 115.874
./BiSearch -i /mnt/dataset2/WEB -m 1 -r 8 -n 102
-----------------CHUNK NUM-----------------------
logical chunk num: 35905999
unique chunk num: 4116067
base chunk num: 277225
delta chunk num: 3838842
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 297546045440
unique chunk size: 2567830494
dedup chunk size: 0
base chunk size: 1042483811
delta chunk size: 1525346683
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
```

## Cassandra 97 backups

### BiSearch Ratio 8

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 17 -r 8 -n 97
Overall Compression Ratio: 19.459
-----------------CHUNK NUM-----------------------
logical chunk num: 26315
unique chunk num: 10544
base chunk num: 1378
delta chunk num: 9166
finesse hit:2265
-----------------CHUNK SIZE-----------------------
logical chunk size: 35310059520
unique chunk size: 1814548402
dedup chunk size: 0
base chunk size: 252368328
delta chunk size: 1562180074
finesse chunk size: 2592849
finesse pre chunk size: 55618560
local chunk size: 1559569565
local pre chunk size: 21369090560
--------------------------------------------------
```

### Odess+FastCDC

```SQL
./BiSearch -i /home/public/WYY/DBset/cassandra -m 8 -r 8 -n 97
Overall Compression Ratio: 17.318
-----------------CHUNK NUM-----------------------
logical chunk num: 4354882
unique chunk num: 838088
base chunk num: 387121
delta chunk num: 450967
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 35310059520
unique chunk size: 2038873096
dedup chunk size: 0
base chunk size: 1916237524
delta chunk size: 122635572
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
```

# List to do

- 论文思路PPT
    
- Layer设计
    
- 进一步测试CutpointTar，找到最优情况，或者是阈值的impact
    
- 实验图
    
- 看论文 docker registry
    

暂时无法在成电飞书文档外展示此内容

- Linux数据集补全
    

# Chunking方式及chunkSize的影响-实验数据-实验图

Fixed size BiSearch

```SQL
Time taken by for loop: 90.9606 minutes
Overall Compression Ratio: 175.4129
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 55
delta chunk num: 11493
finesse hit:2
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 275109579
dedup chunk size: 0
base chunk size: 82138421
delta chunk size: 192971158
finesse chunk size: 1022
finesse pre chunk size: 169984
local chunk size: 192946626
local pre chunk size: 48044611584
Compute SF times:51
Sum Time5: 5098 seconds
Fetch Base Chunk Time: 4 seconds
load container times: 55
cache hit times: 11442
Read IO time: 0 seconds
Write IO time: 0 seconds
Update Cache time: 0seconds
Read Cache time: 3seconds
```

1.OnlyDedup+Fix-Sized(Multiple groups)

2.DeltaCompression(Odess)+Fix-Sized(Multiple groups)

```SQL
./BiSearch -i /home/public/WYY/DBset/LKT_tar_full -m 20 -r 8 -n 84
fixed size 4MiB
overall compression ratio: 8.5064
Time taken by for loop: 23.5451 minutes
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 3617
delta chunk num: 7931
finesse hit:0
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 5673103351
dedup chunk size: 0
base chunk size: 5494438264
delta chunk size: 178665087
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
Compute SF times:0
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 7482
cache hit times: 449
Read IO time: 13 seconds
Write IO time: 16 seconds
Update Cache time: 2seconds
Read Cache time: 0seconds


Time taken by for loop: 29.0848 minutes
-----------------CHUNK NUM-----------------------
logical chunk num: 5890872
unique chunk num: 5189671
base chunk num: 1276189
delta chunk num: 3913482
finesse hit:0
fake data:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 6928321508
dedup chunk size: 0
base chunk size: 4865022001
delta chunk size: 2063299507
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
Compute SF times:0
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 232569
cache hit times: 3676606
Read IO time: 286 seconds
Write IO time: 10 seconds
Update Cache time: 72seconds
Read Cache time: 711seconds  
```

3.OnlyDedup+Fastcdc

```Go
./BiSearch -i /home/public/WYY/DBset/LKT_tar_full -m 0 -r 8 -n 84
-----------------CHUNK NUM-----------------------
logical chunk num: 5600065
unique chunk num: 2950934
base chunk num: 2950934
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 12842852645
dedup chunk size: 27378413830
base chunk size: 12842852645
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
```

4.DeltaCompression(Odess)+Fastcdc

```Go
./BiSearch -i /home/public/WYY/DBset/LKT_tar_full -m 8 -r 8 -n 84
-----------------CHUNK NUM-----------------------
logical chunk num: 5600065
unique chunk num: 2950934
base chunk num: 588561
delta chunk num: 2362373
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 3258883664
dedup chunk size: 0
base chunk size: 2319111227
delta chunk size: 939772437
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
```

# Layer设计 - 实验数据

Method 19
![[Pasted image 20250308204523.png]]
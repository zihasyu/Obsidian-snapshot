## 实验结果

### BiSearch-Tar

```Go
./BiSearch -i /home/public/WYY/DBset/cassandra -m 17 -r 8 -n 97
-----------------CHUNK NUM-----------------------
logical chunk num: 26315
unique chunk num: 10544
base chunk num: 2407
delta chunk num: 8137
finesse hit:3372
-----------------CHUNK SIZE-----------------------
logical chunk size: 35310059520
unique chunk size: 3812869294
dedup chunk size: 0
base chunk size: 2924922960
delta chunk size: 887946334
finesse chunk size: 387732531
finesse pre chunk size: 4278498816
local chunk size: 452242470
local pre chunk size: 12320894976
--------------------------------------------------
```

```Go
Overall Compression Ratio: 98.7016
./BiSearch -i /mnt/dataset2/WEB -m 8 -r 8 -n 102
-----------------CHUNK NUM-----------------------
logical chunk num: 35905999
unique chunk num: 4116067
base chunk num: 135848
delta chunk num: 3980219
finesse hit:0
-----------------CHUNK SIZE-----------------------
logical chunk size: 297546045440
unique chunk size: 3014600325
dedup chunk size: 0
base chunk size: 525634328
delta chunk size: 2488965997
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
```

  

  

  

  

```Go
./BiSearch -i /home/public/WYY/DBset/LKT_tar_full -m 17 -r 8 -n 84
-----------------CHUNK NUM-----------------------
logical chunk num: 7702614
unique chunk num: 4824512
base chunk num: 1070927
delta chunk num: 3753585
finesse hit:2354897
-----------------CHUNK SIZE-----------------------
logical chunk size: 48257771520
unique chunk size: 2216393976
dedup chunk size: 0
base chunk size: 1382202876
delta chunk size: 834191100
finesse chunk size: 502584615
finesse pre chunk size: 10377772544
local chunk size: 319292462
local pre chunk size: 6393670144
--------------------------------------------------
```

```Go
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 8 -n 102
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1146461
delta chunk num: 4647797
finesse hit:3868062
-----------------CHUNK SIZE-----------------------
logical chunk size: 297546045440
unique chunk size: 1556078059
dedup chunk size: 0
base chunk size: 430597582
delta chunk size: 1125480477
finesse chunk size: 834730132
finesse pre chunk size: 8841970176
local chunk size: 92985704
local pre chunk size: 1320059392
--------------------------------------------------
```

## 实验分析

restore时发现有些chunk恢复的结果md5码对不上，排查原因是xd3 API在稍大的chunk时我们使用得有问题，一些4MB的chunk在delta后，savesize数据被限制在了16KB而不是可能的更大，与此同时会影响一些行为逻辑。因此之前的增量压缩效果会趋向于4MB/16KB=256的假阳性。

所以之前的计算中，一旦用 fix-sized 切出4MB的chunk，效果就有问题地过好，实际上fix-sized还是会受到边界偏移影响的，并不是在足够大时就比CDC好，符合之前的认知。

//但是昨晚跑的fix-sized实验数据都应该作废了，还需要重新跑一遍

  

修复bug后又做了restore和md5码的计算来确定目前结果的可信性。

|   |   |   |   |
|---|---|---|---|
|Overall ratio|cassandra|linux|web|
|BiSearch+Tar|9.26 (-46.7%)|21.77(+47.4%)|191.22(+107.4%)|
|Odess+FastCDC|17.384|14.769|92.191|

而Web和linux原本就几乎没有大块，因此实验结果受到的影响很少，之前的提升还是有的。

但cassandra效果变得比odess+fastcdc还要差，看log发现10543个块中有5054个4MB块，可以认为cassandra中大块非常多（实际上他内部tar套tar），固定长去切还是问题太大了。现在有两个解决方案

- 在大块内部fastcdc，但这样做效果会接近odess+fastcdc，以及可能会被质疑
    
- 不对大块切块，直接delta，目前设置为4MB的原因是持久化容器最大4MB，那么我们遇到大块的时候单独做持久化容器以及单独设置一些buffer来做完整大块delta是不是能取得更好的效果。
    

  

## Chunking 实验图重制 fix-sized & fastcdc

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=Mzg0OGZlZmIyMmRjNDFjMjgyNjM4NWFiZTIyYWI0YTJfVW9IQkxBaGJUUFJNMFA3NjhQT3pBWXViOUhlVWRPcDNfVG9rZW46QndoSmJQMGx5b0daSTl4VHpXaWN4VUEwblBmXzE3NDE0Mzc5MzQ6MTc0MTQ0MTUzNF9WNA)

  

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|Overall compression ratio|4KB|8KB|64KB|512KB|1MB|4MB|
|dedup fixed-size|2.56011|2.45449|2.71265|2.76605|2.77644|2.78488|
|dedup cdc|5.765||||||
|Odess fixed-size|6.78762|6.82454|7.05315|6.66434|6.55848|6.37481|
|Odess cdc|14.4836||||||
|BiSearch fixed-size|7.7278|7.71359|7.95803|7.77134|7.71412|7.58748|
|BiSearch cdc|15.9758||||||

参照物：BiSearch TAR == 21.7266

  

dedup fixed-size node2 m21 /home/cluster/WZY/commit26/BiSearch

  

### 完整实验结果

#### 服务器

Odess fixed-size node1 m20

BiSearch fixed-size node3 m22

Cdc node4

#### odess fixed-size

```Go
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 11781692
unique chunk num: 9040624
base chunk num: 2479599
delta chunk num: 6561025
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 6.78762
logical chunk size: 48257720320
unique chunk size: 7109662197
dedup chunk size: 0
base chunk size: 5145121523
delta chunk size: 1964540674
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 8192
-----------------CHUNK NUM-----------------------
logical chunk num: 5890866
unique chunk num: 5196011
base chunk num: 1316932
delta chunk num: 3879079
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 6.82454
logical chunk size: 48257720320
unique chunk size: 7071204288
dedup chunk size: 0
base chunk size: 5011438989
delta chunk size: 2059765299
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 736393
unique chunk num: 731325
base chunk num: 199402
delta chunk num: 531923
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.05315
logical chunk size: 48257720320
unique chunk size: 6842006753
dedup chunk size: 0
base chunk size: 4935383337
delta chunk size: 1906623416
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 524288
-----------------CHUNK NUM-----------------------
logical chunk num: 92089
unique chunk num: 92048
base chunk num: 28604
delta chunk num: 63444
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 6.66434
logical chunk size: 48257720320
unique chunk size: 7241186249
dedup chunk size: 0
base chunk size: 5497280204
delta chunk size: 1743906045
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 1048576
-----------------CHUNK NUM-----------------------
logical chunk num: 46067
unique chunk num: 46067
base chunk num: 14811
delta chunk num: 31256
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 6.55848
logical chunk size: 48257720320
unique chunk size: 7358069419
dedup chunk size: 0
base chunk size: 5642038012
delta chunk size: 1716031407
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 20 -r 8 -n 84 -f 4194304
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 3890
delta chunk num: 7658
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 6.37481
logical chunk size: 48257720320
unique chunk size: 7570069083
dedup chunk size: 0
base chunk size: 5849273882
delta chunk size: 1720795201
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
```

```Go
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 11781692
unique chunk num: 9040624
base chunk num: 9040624
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.56011
logical chunk size: 48257720320
unique chunk size: 18849847046
dedup chunk size: 37030379520
base chunk size: 18849847046
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 8192
-----------------CHUNK NUM-----------------------
logical chunk num: 5890866
unique chunk num: 5196011
base chunk num: 5196011
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.45449
logical chunk size: 48257720320
unique chunk size: 19661031105
dedup chunk size: 42565642240
base chunk size: 19661031105
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 736393
unique chunk num: 731325
base chunk num: 731325
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.71265
logical chunk size: 48257720320
unique chunk size: 17789903978
dedup chunk size: 47925641216
base chunk size: 17789903978
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 524288
-----------------CHUNK NUM-----------------------
logical chunk num: 92089
unique chunk num: 92048
base chunk num: 92048
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.76605
logical chunk size: 48257720320
unique chunk size: 17446461548
dedup chunk size: 48236224512
base chunk size: 17446461548
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 1048576
-----------------CHUNK NUM-----------------------
logical chunk num: 46067
unique chunk num: 46067
base chunk num: 46067
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.77644
logical chunk size: 48257720320
unique chunk size: 17381143799
dedup chunk size: 48257720320
base chunk size: 17381143799
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 4194304
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 11548
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.78488
logical chunk size: 48257720320
unique chunk size: 17328452087
dedup chunk size: 48257720320
base chunk size: 17328452087
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
```

#### Dedup fixed-size

```Go
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 11781692
unique chunk num: 9040624
base chunk num: 9040624
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.56011
logical chunk size: 48257720320
unique chunk size: 18849847046
dedup chunk size: 37030379520
base chunk size: 18849847046
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 8192
-----------------CHUNK NUM-----------------------
logical chunk num: 5890866
unique chunk num: 5196011
base chunk num: 5196011
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.45449
logical chunk size: 48257720320
unique chunk size: 19661031105
dedup chunk size: 42565642240
base chunk size: 19661031105
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 736393
unique chunk num: 731325
base chunk num: 731325
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.71265
logical chunk size: 48257720320
unique chunk size: 17789903978
dedup chunk size: 47925641216
base chunk size: 17789903978
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 524288
-----------------CHUNK NUM-----------------------
logical chunk num: 92089
unique chunk num: 92048
base chunk num: 92048
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.76605
logical chunk size: 48257720320
unique chunk size: 17446461548
dedup chunk size: 48236224512
base chunk size: 17446461548
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 1048576
-----------------CHUNK NUM-----------------------
logical chunk num: 46067
unique chunk num: 46067
base chunk num: 46067
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.77644
logical chunk size: 48257720320
unique chunk size: 17381143799
dedup chunk size: 48257720320
base chunk size: 17381143799
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 21 -r 8 -n 84 -f 4194304
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 11548
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 2.78488
logical chunk size: 48257720320
unique chunk size: 17328452087
dedup chunk size: 48257720320
base chunk size: 17328452087
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
```

#### BiSearch fixed-size

```Go
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 11781692
unique chunk num: 9040624
base chunk num: 1905259
delta chunk num: 7135365
finesse hit:2379713
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.7278
logical chunk size: 48257720320
unique chunk size: 6244687806
dedup chunk size: 0
base chunk size: 4109528344
delta chunk size: 2135159462
finesse chunk size: 923409567
finesse pre chunk size: 8935845888
local chunk size: 1129031966
local pre chunk size: 19479144448
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 8192
-----------------CHUNK NUM-----------------------
logical chunk num: 5890866
unique chunk num: 5196011
base chunk num: 998610
delta chunk num: 4197401
finesse hit:1235444
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.71359
logical chunk size: 48257720320
unique chunk size: 6256194295
dedup chunk size: 0
base chunk size: 3935772080
delta chunk size: 2320422215
finesse chunk size: 845885149
finesse pre chunk size: 9235263488
local chunk size: 1395292458
local pre chunk size: 24264314880
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 736393
unique chunk num: 731325
base chunk num: 142568
delta chunk num: 588757
finesse hit:135274
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.95803
logical chunk size: 48257720320
unique chunk size: 6064029998
dedup chunk size: 0
base chunk size: 3635113568
delta chunk size: 2428916430
finesse chunk size: 590820052
finesse pre chunk size: 7750039552
local chunk size: 1753065778
local pre chunk size: 29718097920
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 524288
-----------------CHUNK NUM-----------------------
logical chunk num: 92089
unique chunk num: 92048
base chunk num: 19008
delta chunk num: 73040
finesse hit:15428
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.77134
logical chunk size: 48257720320
unique chunk size: 6209702225
dedup chunk size: 0
base chunk size: 3762430256
delta chunk size: 2447271969
finesse chunk size: 481008258
finesse pre chunk size: 6952085504
local chunk size: 1887845912
local pre chunk size: 30198372352
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 1048576
-----------------CHUNK NUM-----------------------
logical chunk num: 46067
unique chunk num: 46067
base chunk num: 9626
delta chunk num: 36441
finesse hit:7394
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.71412
logical chunk size: 48257720320
unique chunk size: 6255763235
dedup chunk size: 0
base chunk size: 3785863653
delta chunk size: 2469899582
finesse chunk size: 452016867
finesse pre chunk size: 6617237504
local chunk size: 1941429719
local pre chunk size: 30440374272
./BiSearch -i /mnt/dataset2/LKT -m 22 -r 8 -n 84 -f 4194304
-----------------CHUNK NUM-----------------------
logical chunk num: 11548
unique chunk num: 11548
base chunk num: 2487
delta chunk num: 9061
finesse hit:1892
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.58748
logical chunk size: 48257720320
unique chunk size: 6360175267
dedup chunk size: 0
base chunk size: 3866933295
delta chunk size: 2493241972
finesse chunk size: 430024098
finesse pre chunk size: 6644865024
local chunk size: 1979132653
local pre chunk size: 30002833408
```

#### CDC

```Go
./BiSearch -i /mnt/dataset2/LKT -m 0 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 4824468
delta chunk num: 0
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 5.765
logical chunk size: 48257720320
unique chunk size: 8370812840
dedup chunk size: 20324104704
base chunk size: 8370812840
delta chunk size: 0
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 8 -r 8 -n 84 -f 8192
-----------------CHUNK NUM-----------------------
logical chunk num: 5677362
unique chunk num: 3015571
base chunk num: 627003
delta chunk num: 2388568
finesse hit:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 14.4836
logical chunk size: 48257720320
unique chunk size: 3331889391
dedup chunk size: 0
base chunk size: 2411961402
delta chunk size: 919927989
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
./BiSearch -i /mnt/dataset2/LKT -m 9 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 5677362
unique chunk num: 3015571
base chunk num: 503998
delta chunk num: 2511573
finesse hit:692357
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 15.9758
logical chunk size: 48257720320
unique chunk size: 3020667350
dedup chunk size: 0
base chunk size: 1969247038
delta chunk size: 1051420312
finesse chunk size: 388020520
finesse pre chunk size: 6050337550
local chunk size: 641516345
local pre chunk size: 16644557630
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 8 -n 84 -f 65536
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1095928
delta chunk num: 3728540
finesse hit:2431712
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.7266
logical chunk size: 48257720320
unique chunk size: 2221135086
dedup chunk size: 0
base chunk size: 1393778098
delta chunk size: 827356988
finesse chunk size: 514275090
finesse pre chunk size: 10681900032
local chunk size: 300299301
local pre chunk size: 6047863296
```

## CutPointTarFast

  

```Go
BiSearch fastcdc
./BiSearch -i /home/public/WYY/DBset/cassandra -m 17 -r 8 -n 97 -f 55
-----------------CHUNK NUM-----------------------
logical chunk num: 4354882
unique chunk num: 838088
base chunk num: 359807
delta chunk num: 478281
finesse hit:68359
fake data:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 17.932
logical chunk size: 35310059520
unique chunk size: 1969111847
dedup chunk size: 0
base chunk size: 1827382295
delta chunk size: 141729552
finesse chunk size: 43353771
finesse pre chunk size: 462590674
local chunk size: 87035450
local pre chunk size: 3287297131
Compute SF times:322985
Sum Time5: 29 seconds
Fetch Base Chunk Time: 121 seconds
load container times: 12201
cache hit times: 562056
Read IO time: 15 seconds
Write IO time: 2 seconds
Update Cache time: 3seconds
Read Cache time: 109seconds

Overall Compression Ratio: 17.932
bug num is 1526
error Count 0
same count is 12920
process last container
Time taken by for loop: 7.72093 minutes
```

```Go
odess fastcdc
./BiSearch -i /home/public/WYY/DBset/cassandra -m 8 -r 8 -n 97 -f 55
Time taken by for loop: 5.52556 minutes
-----------------CHUNK NUM-----------------------
logical chunk num: 4354882
unique chunk num: 838088
base chunk num: 387809
delta chunk num: 450279
finesse hit:0
fake data:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 17.3841
logical chunk size: 35310059520
unique chunk size: 2031166263
dedup chunk size: 0
base chunk size: 1915233545
delta chunk size: 115932718
finesse chunk size: 0
finesse pre chunk size: 0
local chunk size: 0
local pre chunk size: 0
Compute SF times:0
Sum Time5: 0 seconds
Fetch Base Chunk Time: 0 seconds
load container times: 12967
cache hit times: 430817
Read IO time: 16 seconds
Write IO time: 5 seconds
Update Cache time: 4seconds
Read Cache time: 84seconds
```

```SQL
BiSearch tarFastCDC
-----------------CHUNK NUM-----------------------
logical chunk num: 4332278
unique chunk num: 838337
base chunk num: 359314
delta chunk num: 479023
finesse hit:69667
fake data:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 17.8665
logical chunk size: 35310059520
unique chunk size: 1976332528
dedup chunk size: 0
base chunk size: 1833432030
delta chunk size: 142900498
finesse chunk size: 44965186
finesse pre chunk size: 589257115
local chunk size: 86603077
local pre chunk size: 3290077131
Compute SF times:321854
Sum Time5: 30 seconds
Fetch Base Chunk Time: 120 seconds
load container times: 11725
cache hit times: 564470
Read IO time: 14 seconds
Write IO time: 2 seconds
Update Cache time: 3seconds
Read Cache time: 110seconds
```

  

## Ratio 实验

![](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=N2QwMmY4ZmNlMzVkZWFhMmJmYTk5OWNhNzQ1NDBiZjVfQmhvNG51c0d3emlnOW1ZZXJoOEZ2TDlyTUc4Y0xvaXJfVG9rZW46T1BnemJySThnb3lBVGZ4azBmS2NBOVV5bmplXzE3NDE0Mzc5MzQ6MTc0MTQ0MTUzNF9WNA)

  

|   |   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|---|
||1|4|8|15|25|40|70|100|
|WEB|83.25|195.70|191.22|186.11|185.25|185.19|185.16|185.16|
|LKT|7.68868|20.9104|21.7266|21.0716|21.061|21.034|21.0115|21.0036|

```Go
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 1 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 25666
delta chunk num: 5768592
finesse hit:70851
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 83.2505
logical chunk size: 297546045440
unique chunk size: 3574103936
dedup chunk size: 0
base chunk size: 159101866
delta chunk size: 3415002070
finesse chunk size: 1108279
finesse pre chunk size: 12484608
local chunk size: 3247053409
local pre chunk size: 11360637440
--------------------------------------------------
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 4 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 550865
delta chunk num: 5243393
finesse hit:2009120
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 195.698
logical chunk size: 297546045440
unique chunk size: 1520432903
dedup chunk size: 0
base chunk size: 326650043
delta chunk size: 1193782860
finesse chunk size: 627740543
finesse pre chunk size: 7340745216
local chunk size: 387104863
local pre chunk size: 3414959616
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 8 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1146461
delta chunk num: 4647797
finesse hit:3868062
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 191.215
logical chunk size: 297546045440
unique chunk size: 1556078059
dedup chunk size: 0
base chunk size: 430597582
delta chunk size: 1125480477
finesse chunk size: 834730132
finesse pre chunk size: 8841970176
local chunk size: 92985704
local pre chunk size: 1320059392
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 15 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1391613
delta chunk num: 4402645
finesse hit:4313359
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 186.114
logical chunk size: 297546045440
unique chunk size: 1598728506
dedup chunk size: 0
base chunk size: 475112727
delta chunk size: 1123615779
finesse chunk size: 906942387
finesse pre chunk size: 9599566336
local chunk size: 15805988
local pre chunk size: 382608384
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 25 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1425084
delta chunk num: 4369174
finesse hit:4367151
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 185.247
logical chunk size: 297546045440
unique chunk size: 1606216052
dedup chunk size: 0
base chunk size: 481239612
delta chunk size: 1124976440
finesse chunk size: 920301606
finesse pre chunk size: 9814615552
local chunk size: 3069076
local pre chunk size: 139679744
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 40 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1425086
delta chunk num: 4369172
finesse hit:4367946
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 185.186
logical chunk size: 297546045440
unique chunk size: 1606740862
dedup chunk size: 0
base chunk size: 481356787
delta chunk size: 1125384075
finesse chunk size: 923155710
finesse pre chunk size: 9889645568
local chunk size: 622607
local pre chunk size: 64320512
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 70 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1425087
delta chunk num: 4369171
finesse hit:4368224
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 185.162
logical chunk size: 297546045440
unique chunk size: 1606952572
dedup chunk size: 0
base chunk size: 481388549
delta chunk size: 1125564023
finesse chunk size: 923839337
finesse pre chunk size: 9915756032
local chunk size: 107160
local pre chunk size: 38008320
./BiSearch -i /mnt/dataset2/WEB -m 17 -r 100 -n 102 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 10111285
unique chunk num: 5794258
base chunk num: 1425087
delta chunk num: 4369171
finesse hit:4368301
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 185.16
logical chunk size: 297546045440
unique chunk size: 1606963912
dedup chunk size: 0
base chunk size: 481388549
delta chunk size: 1125575363
finesse chunk size: 923878058
finesse pre chunk size: 9917983232
local chunk size: 79779
local pre chunk size: 35781120
```

```Go
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 1 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 69534
delta chunk num: 4754934
finesse hit:56150
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 7.68868
logical chunk size: 48257720320
unique chunk size: 6276462208
dedup chunk size: 0
base chunk size: 191734883
delta chunk size: 6084727325
finesse chunk size: 10877048
finesse pre chunk size: 199515136
local chunk size: 6072529575
local pre chunk size: 19760607232
--------------------------------------------------
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 4 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 426816
delta chunk num: 4397652
finesse hit:776404
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 20.9104
logical chunk size: 48257720320
unique chunk size: 2307834751
dedup chunk size: 0
base chunk size: 1092469737
delta chunk size: 1215365014
finesse chunk size: 208973944
finesse pre chunk size: 5426080768
local chunk size: 1002460780
local pre chunk size: 12383968768
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 8 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1095928
delta chunk num: 3728540
finesse hit:2431712
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.7266
logical chunk size: 48257720320
unique chunk size: 2221135086
dedup chunk size: 0
base chunk size: 1393778098
delta chunk size: 827356988
finesse chunk size: 514275090
finesse pre chunk size: 10681900032
local chunk size: 300299301
local pre chunk size: 6047863296
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 15 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1531544
delta chunk num: 3292924
finesse hit:3222951
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.0716
logical chunk size: 48257720320
unique chunk size: 2290178236
dedup chunk size: 0
base chunk size: 1538223985
delta chunk size: 751954251
finesse chunk size: 668317952
finesse pre chunk size: 13606126080
local chunk size: 59622281
local pre chunk size: 2296712192
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 25 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1532777
delta chunk num: 3291691
finesse hit:3241546
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.061
logical chunk size: 48257720320
unique chunk size: 2291329745
dedup chunk size: 0
base chunk size: 1547546595
delta chunk size: 743783150
finesse chunk size: 692208238
finesse pre chunk size: 14204090368
local chunk size: 27077828
local pre chunk size: 1655872512
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 40 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1533463
delta chunk num: 3291005
finesse hit:3255862
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.034
logical chunk size: 48257720320
unique chunk size: 2294274932
dedup chunk size: 0
base chunk size: 1551772144
delta chunk size: 742502788
finesse chunk size: 705263246
finesse pre chunk size: 14652367360
local chunk size: 12479823
local pre chunk size: 1188947456
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 70 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1533813
delta chunk num: 3290655
finesse hit:3269010
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.0115
logical chunk size: 48257720320
unique chunk size: 2296732713
dedup chunk size: 0
base chunk size: 1554252415
delta chunk size: 742480298
finesse chunk size: 712697309
finesse pre chunk size: 15039608320
local chunk size: 4871696
local pre chunk size: 790509056
./BiSearch -i /mnt/dataset2/LKT -m 17 -r 100 -n 84 -f 4096
-----------------CHUNK NUM-----------------------
logical chunk num: 7702517
unique chunk num: 4824468
base chunk num: 1533894
delta chunk num: 3290574
finesse hit:3275366
fit same count: 0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.0036
logical chunk size: 48257720320
unique chunk size: 2297588060
dedup chunk size: 0
base chunk size: 1555163563
delta chunk size: 742424497
finesse chunk size: 714873041
finesse pre chunk size: 15225430528
local chunk size: 2598905
local pre chunk size: 600745472
```

### 动态ratio实验（比较长）

```Go
start LocalDedupSim
process file: /mnt/dataset2/LKT/v2.6.11.tar
logicalchunkSize is 198MB
uniquechunkSize is 86MB
Overall Compression Ratio: 2.30393
bug num is 0
error Count 0
same count is 10396
process last container
process file: /mnt/dataset2/LKT/v2.6.12.tar
logicalchunkSize is 401MB
uniquechunkSize is 91MB
Overall Compression Ratio: 4.37759
bug num is 0
error Count 0
same count is 10406
process last container
process file: /mnt/dataset2/LKT/v2.6.13.tar
logicalchunkSize is 610MB
uniquechunkSize is 99MB
Overall Compression Ratio: 6.13995
bug num is 0
error Count 0
same count is 10433
process last container
process file: /mnt/dataset2/LKT/v2.6.14.tar
logicalchunkSize is 824MB
uniquechunkSize is 108MB
Overall Compression Ratio: 7.63288
bug num is 0
error Count 0
same count is 11143
process last container
process file: /mnt/dataset2/LKT/v2.6.15.tar
logicalchunkSize is 1042MB
uniquechunkSize is 121MB
Overall Compression Ratio: 8.58626
bug num is 0
error Count 0
same count is 16628
process last container
process file: /mnt/dataset2/LKT/v2.6.16.tar
logicalchunkSize is 1265MB
uniquechunkSize is 135MB
Overall Compression Ratio: 9.34821
bug num is 0
error Count 0
same count is 22446
process last container
process file: /mnt/dataset2/LKT/v2.6.17.tar
logicalchunkSize is 1490MB
uniquechunkSize is 148MB
Overall Compression Ratio: 10.0613
bug num is 0
error Count 0
same count is 28387
process last container
process file: /mnt/dataset2/LKT/v2.6.18.tar
logicalchunkSize is 1719MB
uniquechunkSize is 163MB
Overall Compression Ratio: 10.5232
bug num is 0
error Count 0
same count is 34722
process last container
process file: /mnt/dataset2/LKT/v2.6.19.tar
logicalchunkSize is 1954MB
uniquechunkSize is 178MB
Overall Compression Ratio: 10.9741
bug num is 0
error Count 0
same count is 39876
process last container
process file: /mnt/dataset2/LKT/v2.6.20.tar
logicalchunkSize is 2193MB
uniquechunkSize is 189MB
Overall Compression Ratio: 11.5964
bug num is 0
error Count 0
same count is 44913
process last container
process file: /mnt/dataset2/LKT/v2.6.21.tar
logicalchunkSize is 2436MB
uniquechunkSize is 201MB
Overall Compression Ratio: 12.064
bug num is 0
error Count 0
same count is 51447
process last container
process file: /mnt/dataset2/LKT/v2.6.22.tar
logicalchunkSize is 2686MB
uniquechunkSize is 217MB
Overall Compression Ratio: 12.3569
bug num is 0
error Count 0
same count is 58407
process last container
process file: /mnt/dataset2/LKT/v2.6.23.tar
logicalchunkSize is 2939MB
uniquechunkSize is 232MB
Overall Compression Ratio: 12.6325
bug num is 0
error Count 0
same count is 64348
process last container
process file: /mnt/dataset2/LKT/v2.6.24.tar
logicalchunkSize is 3199MB
uniquechunkSize is 255MB
Overall Compression Ratio: 12.5061
bug num is 0
error Count 0
same count is 71697
process last container
process file: /mnt/dataset2/LKT/v2.6.25.tar
logicalchunkSize is 3471MB
uniquechunkSize is 279MB
Overall Compression Ratio: 12.4222
bug num is 0
error Count 0
same count is 79639
process last container
process file: /mnt/dataset2/LKT/v2.6.26.tar
logicalchunkSize is 3747MB
uniquechunkSize is 299MB
Overall Compression Ratio: 12.528
bug num is 0
error Count 0
same count is 87564
process last container
process file: /mnt/dataset2/LKT/v2.6.27.tar
logicalchunkSize is 4027MB
uniquechunkSize is 322MB
Overall Compression Ratio: 12.4957
bug num is 0
error Count 0
same count is 95004
process last container
process file: /mnt/dataset2/LKT/v2.6.28.tar
logicalchunkSize is 4323MB
uniquechunkSize is 343MB
Overall Compression Ratio: 12.5882
bug num is 0
error Count 0
same count is 102633
process last container
process file: /mnt/dataset2/LKT/v2.6.29.tar
logicalchunkSize is 4643MB
uniquechunkSize is 369MB
Overall Compression Ratio: 12.5598
bug num is 0
error Count 0
same count is 110705
process last container
process file: /mnt/dataset2/LKT/v2.6.30.tar
logicalchunkSize is 4980MB
uniquechunkSize is 395MB
Overall Compression Ratio: 12.5839
bug num is 0
error Count 0
same count is 119787
process last container
process file: /mnt/dataset2/LKT/v2.6.31.tar
logicalchunkSize is 5329MB
uniquechunkSize is 420MB
Overall Compression Ratio: 12.6794
bug num is 0
error Count 0
same count is 129466
process last container
process file: /mnt/dataset2/LKT/v2.6.32.tar
logicalchunkSize is 5694MB
uniquechunkSize is 448MB
Overall Compression Ratio: 12.6921
bug num is 0
error Count 0
same count is 139695
process last container
process file: /mnt/dataset2/LKT/v2.6.33.tar
logicalchunkSize is 6070MB
uniquechunkSize is 473MB
Overall Compression Ratio: 12.8118
bug num is 0
error Count 0
same count is 149116
process last container
process file: /mnt/dataset2/LKT/v2.6.34.tar
logicalchunkSize is 6456MB
uniquechunkSize is 496MB
Overall Compression Ratio: 13.0116
bug num is 0
error Count 0
same count is 158493
process last container
process file: /mnt/dataset2/LKT/v2.6.35.tar
logicalchunkSize is 6850MB
uniquechunkSize is 519MB
Overall Compression Ratio: 13.1946
bug num is 0
error Count 0
same count is 168228
process last container
process file: /mnt/dataset2/LKT/v2.6.36.tar
logicalchunkSize is 7245MB
uniquechunkSize is 540MB
Overall Compression Ratio: 13.4048
bug num is 0
error Count 0
same count is 179293
process last container
process file: /mnt/dataset2/LKT/v2.6.37.tar
logicalchunkSize is 7656MB
uniquechunkSize is 570MB
Overall Compression Ratio: 13.4151
bug num is 0
error Count 0
same count is 187436
process last container
process file: /mnt/dataset2/LKT/v2.6.38.tar
logicalchunkSize is 8076MB
uniquechunkSize is 592MB
Overall Compression Ratio: 13.6224
bug num is 0
error Count 0
same count is 198263
process last container
process file: /mnt/dataset2/LKT/v2.6.39.tar
logicalchunkSize is 8505MB
uniquechunkSize is 617MB
Overall Compression Ratio: 13.7673
bug num is 0
error Count 0
same count is 209975
process last container
process file: /mnt/dataset2/LKT/v3.0.tar
logicalchunkSize is 8935MB
uniquechunkSize is 639MB
Overall Compression Ratio: 13.9665
bug num is 0
error Count 0
same count is 217379
process last container
process file: /mnt/dataset2/LKT/v3.1.tar
logicalchunkSize is 9368MB
uniquechunkSize is 661MB
Overall Compression Ratio: 14.1567
bug num is 0
error Count 0
same count is 229591
process last container
process file: /mnt/dataset2/LKT/v3.2.tar
logicalchunkSize is 9808MB
uniquechunkSize is 686MB
Overall Compression Ratio: 14.2957
bug num is 0
error Count 0
same count is 240626
process last container
process file: /mnt/dataset2/LKT/v3.3.tar
logicalchunkSize is 10252MB
uniquechunkSize is 707MB
Overall Compression Ratio: 14.4867
bug num is 0
error Count 0
same count is 248203
process last container
process file: /mnt/dataset2/LKT/v3.4.tar
logicalchunkSize is 10703MB
uniquechunkSize is 732MB
Overall Compression Ratio: 14.6212
bug num is 0
error Count 0
same count is 259195
process last container
process file: /mnt/dataset2/LKT/v3.5.tar
logicalchunkSize is 11161MB
uniquechunkSize is 755MB
Overall Compression Ratio: 14.7744
bug num is 0
error Count 0
same count is 270100
process last container
process file: /mnt/dataset2/LKT/v3.6.tar
logicalchunkSize is 11627MB
uniquechunkSize is 776MB
Overall Compression Ratio: 14.9772
bug num is 0
error Count 0
same count is 282343
process last container
process file: /mnt/dataset2/LKT/v3.7.tar
logicalchunkSize is 12103MB
uniquechunkSize is 801MB
Overall Compression Ratio: 15.1021
bug num is 0
error Count 0
same count is 296249
process last container
process file: /mnt/dataset2/LKT/v3.8.tar
logicalchunkSize is 12585MB
uniquechunkSize is 825MB
Overall Compression Ratio: 15.2381
bug num is 0
error Count 0
same count is 310522
process last container
process file: /mnt/dataset2/LKT/v3.9.tar
logicalchunkSize is 13075MB
uniquechunkSize is 850MB
Overall Compression Ratio: 15.372
bug num is 0
error Count 0
same count is 323696
process last container
process file: /mnt/dataset2/LKT/v3.10.tar
logicalchunkSize is 13573MB
uniquechunkSize is 877MB
Overall Compression Ratio: 15.4746
bug num is 0
error Count 0
same count is 338481
process last container
process file: /mnt/dataset2/LKT/v3.11.tar
logicalchunkSize is 14082MB
uniquechunkSize is 902MB
Overall Compression Ratio: 15.5984
bug num is 0
error Count 0
same count is 346385
process last container
process file: /mnt/dataset2/LKT/v3.12.tar
logicalchunkSize is 14601MB
uniquechunkSize is 925MB
Overall Compression Ratio: 15.773
bug num is 0
error Count 0
same count is 360922
process last container
process file: /mnt/dataset2/LKT/v3.13.tar
logicalchunkSize is 15125MB
uniquechunkSize is 948MB
Overall Compression Ratio: 15.9514
bug num is 0
error Count 0
same count is 376164
process last container
process file: /mnt/dataset2/LKT/v3.14.tar
logicalchunkSize is 15659MB
uniquechunkSize is 972MB
Overall Compression Ratio: 16.1073
bug num is 0
error Count 0
same count is 391735
process last container
process file: /mnt/dataset2/LKT/v3.15.tar
logicalchunkSize is 16204MB
uniquechunkSize is 998MB
Overall Compression Ratio: 16.2331
bug num is 0
error Count 0
same count is 407685
process last container
process file: /mnt/dataset2/LKT/v3.16.tar
logicalchunkSize is 16756MB
uniquechunkSize is 1022MB
Overall Compression Ratio: 16.3904
bug num is 0
error Count 0
same count is 418550
process last container
process file: /mnt/dataset2/LKT/v3.17.tar
logicalchunkSize is 17306MB
uniquechunkSize is 1046MB
Overall Compression Ratio: 16.542
bug num is 0
error Count 0
same count is 430903
process last container
process file: /mnt/dataset2/LKT/v3.18.tar
logicalchunkSize is 17860MB
uniquechunkSize is 1069MB
Overall Compression Ratio: 16.703
bug num is 0
error Count 0
same count is 445981
process last container
process file: /mnt/dataset2/LKT/v3.19.tar
logicalchunkSize is 18417MB
uniquechunkSize is 1093MB
Overall Compression Ratio: 16.8423
bug num is 0
error Count 0
same count is 462224
process last container
process file: /mnt/dataset2/LKT/v4.0.tar
logicalchunkSize is 18980MB
uniquechunkSize is 1115MB
Overall Compression Ratio: 17.0209
bug num is 0
error Count 0
same count is 477133
process last container
process file: /mnt/dataset2/LKT/v4.1.tar
logicalchunkSize is 19548MB
uniquechunkSize is 1138MB
Overall Compression Ratio: 17.1631
bug num is 0
error Count 0
same count is 489148
process last container
process file: /mnt/dataset2/LKT/v4.2.tar
logicalchunkSize is 20150MB
uniquechunkSize is 1170MB
Overall Compression Ratio: 17.2192
bug num is 0
error Count 0
same count is 505278
process last container
process file: /mnt/dataset2/LKT/v4.3.tar
logicalchunkSize is 20761MB
uniquechunkSize is 1196MB
Overall Compression Ratio: 17.3519
bug num is 0
error Count 0
same count is 521542
process last container
process file: /mnt/dataset2/LKT/v4.4.tar
logicalchunkSize is 21379MB
uniquechunkSize is 1221MB
Overall Compression Ratio: 17.5037
bug num is 0
error Count 0
same count is 538934
process last container
process file: /mnt/dataset2/LKT/v4.5.tar
logicalchunkSize is 22007MB
uniquechunkSize is 1246MB
Overall Compression Ratio: 17.6536
bug num is 0
error Count 0
same count is 554355
process last container
process file: /mnt/dataset2/LKT/v4.6.tar
logicalchunkSize is 22642MB
uniquechunkSize is 1273MB
Overall Compression Ratio: 17.7749
bug num is 0
error Count 0
same count is 571534
process last container
process file: /mnt/dataset2/LKT/v4.7.tar
logicalchunkSize is 23288MB
uniquechunkSize is 1300MB
Overall Compression Ratio: 17.9095
bug num is 0
error Count 0
same count is 588412
process last container
process file: /mnt/dataset2/LKT/v4.8.tar
logicalchunkSize is 23943MB
uniquechunkSize is 1329MB
Overall Compression Ratio: 18.012
bug num is 0
error Count 0
same count is 607100
process last container
process file: /mnt/dataset2/LKT/v4.9.tar
logicalchunkSize is 24606MB
uniquechunkSize is 1358MB
Overall Compression Ratio: 18.1148
bug num is 0
error Count 0
same count is 625345
process last container
process file: /mnt/dataset2/LKT/v4.10.tar
logicalchunkSize is 25286MB
uniquechunkSize is 1389MB
Overall Compression Ratio: 18.1925
bug num is 0
error Count 0
same count is 644675
process last container
process file: /mnt/dataset2/LKT/v4.11.tar
logicalchunkSize is 25975MB
uniquechunkSize is 1419MB
Overall Compression Ratio: 18.3007
bug num is 0
error Count 0
same count is 663130
process last container
process file: /mnt/dataset2/LKT/v4.12.tar
logicalchunkSize is 26719MB
uniquechunkSize is 1458MB
Overall Compression Ratio: 18.3225
bug num is 0
error Count 0
same count is 681762
process last container
process file: /mnt/dataset2/LKT/v4.13.tar
logicalchunkSize is 27499MB
uniquechunkSize is 1489MB
Overall Compression Ratio: 18.4644
bug num is 0
error Count 0
same count is 699604
process last container
process file: /mnt/dataset2/LKT/v4.14.tar
logicalchunkSize is 28286MB
uniquechunkSize is 1521MB
Overall Compression Ratio: 18.5924
bug num is 0
error Count 0
same count is 719388
process last container
process file: /mnt/dataset2/LKT/v4.15.tar
logicalchunkSize is 29081MB
uniquechunkSize is 1552MB
Overall Compression Ratio: 18.733
bug num is 0
error Count 0
same count is 731659
process last container
process file: /mnt/dataset2/LKT/v4.16.tar
logicalchunkSize is 29879MB
uniquechunkSize is 1582MB
Overall Compression Ratio: 18.8753
bug num is 0
error Count 0
same count is 750892
process last container
process file: /mnt/dataset2/LKT/v4.17.tar
logicalchunkSize is 30674MB
uniquechunkSize is 1613MB
Overall Compression Ratio: 19.0148
bug num is 0
error Count 0
same count is 769199
process last container
process file: /mnt/dataset2/LKT/v4.18.tar
logicalchunkSize is 31465MB
uniquechunkSize is 1641MB
Overall Compression Ratio: 19.1649
bug num is 0
error Count 0
same count is 789170
process last container
process file: /mnt/dataset2/LKT/v4.19.tar
logicalchunkSize is 32266MB
uniquechunkSize is 1672MB
Overall Compression Ratio: 19.2895
bug num is 0
error Count 0
same count is 808154
process last container
process file: /mnt/dataset2/LKT/v4.20.tar
logicalchunkSize is 33081MB
uniquechunkSize is 1703MB
Overall Compression Ratio: 19.424
bug num is 0
error Count 0
same count is 828502
process last container
process file: /mnt/dataset2/LKT/v5.0.tar
logicalchunkSize is 33904MB
uniquechunkSize is 1732MB
Overall Compression Ratio: 19.571
bug num is 0
error Count 0
same count is 848588
process last container
process file: /mnt/dataset2/LKT/v5.1.tar
logicalchunkSize is 34736MB
uniquechunkSize is 1761MB
Overall Compression Ratio: 19.7177
bug num is 0
error Count 0
same count is 868914
process last container
process file: /mnt/dataset2/LKT/v5.2.tar
logicalchunkSize is 35567MB
uniquechunkSize is 1810MB
Overall Compression Ratio: 19.6411
bug num is 0
error Count 0
same count is 890629
process last container
process file: /mnt/dataset2/LKT/v5.3.tar
logicalchunkSize is 36438MB
uniquechunkSize is 1846MB
Overall Compression Ratio: 19.7314
bug num is 0
error Count 0
same count is 913538
process last container
process file: /mnt/dataset2/LKT/v5.4.tar
logicalchunkSize is 37332MB
uniquechunkSize is 1878MB
Overall Compression Ratio: 19.8779
bug num is 0
error Count 0
same count is 931037
process last container
process file: /mnt/dataset2/LKT/v5.5.tar
logicalchunkSize is 38236MB
uniquechunkSize is 1909MB
Overall Compression Ratio: 20.0275
bug num is 0
error Count 0
same count is 953958
process last container
process file: /mnt/dataset2/LKT/v5.6.tar
logicalchunkSize is 39149MB
uniquechunkSize is 1938MB
Overall Compression Ratio: 20.1982
bug num is 0
error Count 0
same count is 976224
process last container
process file: /mnt/dataset2/LKT/v5.7.tar
logicalchunkSize is 40070MB
uniquechunkSize is 1967MB
Overall Compression Ratio: 20.3675
bug num is 0
error Count 0
same count is 999962
process last container
process file: /mnt/dataset2/LKT/v5.8.tar
logicalchunkSize is 41009MB
uniquechunkSize is 2002MB
Overall Compression Ratio: 20.4817
bug num is 0
error Count 0
same count is 1021815
process last container
process file: /mnt/dataset2/LKT/v5.9.tar
logicalchunkSize is 41973MB
uniquechunkSize is 2036MB
Overall Compression Ratio: 20.6078
bug num is 0
error Count 0
same count is 1024470
process last container
process file: /mnt/dataset2/LKT/v5.10.tar
logicalchunkSize is 42945MB
uniquechunkSize is 2069MB
Overall Compression Ratio: 20.747
bug num is 0
error Count 0
same count is 1030029
process last container
process file: /mnt/dataset2/LKT/v5.11.tar
logicalchunkSize is 43960MB
uniquechunkSize is 2102MB
Overall Compression Ratio: 20.9108
bug num is 0
error Count 0
same count is 1038277
process last container
process file: /mnt/dataset2/LKT/v5.12.tar
logicalchunkSize is 44980MB
uniquechunkSize is 2130MB
Overall Compression Ratio: 21.11
bug num is 0
error Count 0
same count is 1048394
process last container
process file: /mnt/dataset2/LKT/v5.13.tar
logicalchunkSize is 46022MB
uniquechunkSize is 2165MB
Overall Compression Ratio: 21.2546
bug num is 0
error Count 0
same count is 1060389
process last container
Time taken by for loop: 55.2957 minutes
-----------------CHUNK NUM-----------------------
logical chunk num: 7853031
unique chunk num: 4833890
base chunk num: 1457785
delta chunk num: 3376105
finesse hit:3064191
fake data:0
-----------------CHUNK SIZE-----------------------
Overall Compression Ratio: 21.2546
logical chunk size: 48257720320
unique chunk size: 2270457410
dedup chunk size: 0
base chunk size: 1508312348
delta chunk size: 762145062
finesse chunk size: 641104158
finesse pre chunk size: 12997068975
local chunk size: 98872181
local pre chunk size: 2937344833
Compute SF times:131516
Sum Time5: 219 seconds
Fetch Base Chunk Time: 1738 seconds
load container times: 300415
cache hit times: 7046262
Read IO time: 365 seconds
Write IO time: 3 seconds
Update Cache time: 93seconds
Read Cache time: 1386seconds
```
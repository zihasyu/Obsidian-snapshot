
| 数据集名称     | DedupRatio (fastcdc) | DedupRatio (filelevel) | DeltaRatio (fastcdc) | DeltaRatio (filelevel) | OverallRatio (fastcdc) | OverallRatio (filelevel) |
| --------- | -------------------- | ---------------------- | -------------------- | ---------------------- | ---------------------- | ------------------------ |
| automake  | 3.227090             | 2.472046               | 10.590726            | 14.427375              | 20.3217                | 22.0845                  |
| ==bash==  | ==2.754176==         | ==1.741707==           | ==5.718915==         | ==5.548134==           | ==9.20786==            | ==9.01713==              |
| coreutils | 2.509809             | 2.819164               | 5.806681             | 7.366676               | 12.3697                | 15.7604                  |
| fdisk     | 2.391119             | 2.386923               | 4.411028             | 4.947326               | 8.55061                | 10.4427                  |
| ==glibc== | ==8.963178==         | ==5.857138==           | ==22.182793==        | ==20.764170==          | ==52.739==             | ==52.4163==              |
| smalltalk | 6.069542             | 4.468066               | 14.130597            | 15.920370              | 29.3621                | 34.0148                  |
| linux     | 10.466626            | 8.451953               | 34.333146            | 45.381427              | 64.8147                | 89.9473                  |
| WEB       | 26.104894            | 25.752117              | 192.222377           | 223.582437             | 279.225                | 293.918                  |

motivation实验对象是没打包的FileStream（即没有metadata），不做chunking而是直接以文件的粒度（不管文件多大）去做完整的现有去重工作流。其次，对该FileStream做FastCDC后，细粒度的去做完整的现有去重工作流。这两种方法做对比，发现只考虑Dedup时，细粒度方法更好，但是在Delta方面，文件粒度更好。

但这个实验没法证明是FastCDC的某个问题导致的，也没法证明File-level chunking比fastcdc好，**但是仅能证明引入File Level后FastCDC有一定的提升空间。**

此外还测了该BiSearch在FileStream的表现，都是偏好的。

**File Dedup Ratio**=File logical size/(File logical size-File dedup reduct size)
**File Delta Ratio**=(File logical size-File dedup reduct size)/(File logical size-File dedup reduct size-File delta reduct size)

只保留File部分后最后BiSearch的数据如下：

| 数据集名称     | DedupRatio (fastcdc)       | DedupRatio (filelevel)       | DedupRatio (ours)       | DeltaRatio (fastcdc) | DeltaRatio (filelevel) | DeltaRatio (ours) |
| --------- | -------------------------- | ---------------------------- | ----------------------- | -------------------- | ---------------------- | ----------------- |
| automake  | 3.227090                   | 2.472046                     | 2.4749                  | 3.281819             | 5.836208               | 6.9659            |
| bash      | 2.754176                   | 1.741707                     | 1.7418                  | 2.076452             | 3.185457               | 3.8648            |
| coreutils | 2.509809                   | 2.819164                     | 2.8235                  | 2.313595             | 2.613072               | 3.3239            |
| fdisk     | 2.391119                   | 2.386923                     | 2.3977                  | 1.844754             | 2.072679               | 2.4361            |
| glibc     | 8.963178                   | 5.857138                     | 6.1173                  | 2.474880             | 3.545105               | 4.4459            |
| smalltalk | 6.069542                   | 4.468066                     | 4.4697                  | 2.328116             | 3.563146               | 3.8675            |
| linux     | 10.466626                  | 8.451953                     | 8.5849                  | 3.280250             | 5.369342               | 6.2136            |
| WEB       | 26.104894                  | 25.752117                    | 25.7530                 | 7.363461             | 8.682099               | 8.7897            |
| **数据集名称** | **OverallRatio (fastcdc)** | **OverallRatio (filelevel)** | **OverallRatio (ours)** |                      |                        |                   |
| automake  | 20.3217                    | 22.0845                      | 25.1297                 |                      |                        |                   |
| bash      | 9.20786                    | 9.01713                      | 10.2858                 |                      |                        |                   |
| coreutils | 12.3697                    | 15.7604                      | 18.5966                 |                      |                        |                   |
| fdisk     | 8.55061                    | 10.4427                      | 11.2304                 |                      |                        |                   |
| glibc     | 52.739                     | 52.4163                      | 61.5356                 |                      |                        |                   |
| smalltalk | 29.3621                    | 34.0148                      | 35.7767                 |                      |                        |                   |
| linux     | 64.8147                    | 89.9473                      | 100.9132                |                      |                        |                   |
| WEB       | 279.225                    | 293.918                      | 295.8490                |                      |                        |                   |
|           |                            |                              |                         |                      |                        |                   |


